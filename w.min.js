W$LICENSE="Weaveworld Public License v1.0, Copyright(c)2018-2019, Csaba Veg, All rights reserved.\nPermission to USE and/or REDISTRIBUTE this software in UNMODIFIED forms, in source and/or binary distributions, for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.";
function ____QUERY____(){}String.prototype.startsWith||(String.prototype.startsWith=function(a,b){var c=b||0,d=a.length;if(c+d>this.length)return!1;for(var f=0;f<d;++f,++c)if(a.charAt(f)!=this.charAt(c))return!1;return!0});String.prototype.endsWith||(String.prototype.endsWith=function(a,b){var c=b||this.length,d=a.length;if(c<d)return!1;for(;0<=--d;)if(--c,a.charAt(d)!=this.charAt(c))return!1;return!0});
Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=0,d=this.length;c<d;++c)a.call(b,this[c],c,this)});function w$derive(a,b){a.prototype&&a.prototype.isPrototypeOf(b)||Object.setPrototypeOf(b,a);return b}
function w$assign(a,b,c,d){var f,h=!1;if(null==b||"object"!=typeof b)return b;"boolean"==typeof c&&(h=c,c=d);if(c)for("string"==typeof c&&(c=c.split(",")),d=0;d<c.length;++d){var g=c[d],k=g;-1!=(f=g.indexOf(":"))&&(k=g.substring(0,f),g=g.substring(f+1));f=b[g];if(h?null!=f:"undefined"!=typeof f)a[k]=f}else for(g in b)b.hasOwnProperty(g)&&(f=b[g],(h?null!=f:"undefined"!=typeof f)?a[g]=f:delete a[g]);return a}function w$isElements(a){return a&&(a instanceof HTMLCollection||Array.isArray(a))}
function w$oneOrMore(a,b){return null===b?0==a:a<b}function w$isArray(a){return"object"==typeof a&&a&&(Array.isArray(a)||a.$w$isArray)}
function w$query(a,b,c){var d=!1,f=0,h=b||document,g=!1;if(a)if("object"==typeof a){g=w$isElements(a);var k=a}else{if(-1!=a.indexOf(";")){var l=a.split(";");k=[];g=!0}if(c||w$isElements(h))k=[],g=!0;for(var m=Array.isArray(l)?l.length:null,n=0;w$oneOrMore(n,m);++n){null!==m&&(a=l[n]);d=!1;f=0;if(a.startsWith(" "))d=!1,a=a.substring(1);else if(a.startsWith("##"))d=!0,f=2;else if(a.startsWith("#")){d=!0;for(var e=f=1;e<a.length;++e){var r=a.charAt(e);if(!("a"<=r&&"z">=r||"A"<=r&&"Z">=r||e>f&&("0"<=
r&&"9">=r||"_"==r||"-"==r))){d=!1;break}}}else a.startsWith("=")&&(a="*[name='"+a.substring(1)+"']");r=h instanceof HTMLCollection||Array.isArray(h)?A.length:"1";for(var y=-1;++y<r;){var A="number"==typeof r?h[y]:h;if(0==a.indexOf(">"))(e=function u(a,e,b){var d=a.indexOf(">"),f=(-1!=d?a.substring(0,d):a).split("."),m=0;a:for(;m<e.children.length;++m){var n=e.children[m];if(!f[0]||"*"==f[0]||f[0].toUpperCase()==n.nodeName){for(var r=1;r<f.length;++r)if(!n.classList.contains(f[r]))continue a;if(-1!=
d)return u(a.substring(d+1),n,b);Array.isArray(b)&&b.push(n);if(!c)return n}}return null}(a.substring(1),b,k))&&!g&&(k=e);else if(d)e=document.getElementById(a.substring(f)),g?k.push(e):k=e;else if(g){var w=A.querySelectorAll(a);for(e=0;e<w.length;++e)k.push(w[e])}else k=A.querySelector(a)}if(!g)break}}else k=h;c?w$isElements(k)||(k=k?[k]:[]):w$isElements(k)&&(k=k.length?k[0]:null);if("function"==typeof c)for(e=0;e<k.length;++e)c(k[e]);return k}
function w$queryAll(a,b,c){return w$query(a,b,c||!0)}
function w$show(a,b){"+-"==b&&(b=!w$show(a));if("undefined"==typeof b)return"none"!=window.getComputedStyle(a).display;if(b)return"none"==window.getComputedStyle(a).display&&(a.style.display=a.$w&&a.$w.$styleDisplay?a.$w.$styleDisplay:/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i.test(a.nodeName)?"block":"inline"),!0;var c;(a.$w||(a.$w={})).$styleDisplay||"none"==(c=window.getComputedStyle(a).display)||
(a.$w.$styleDisplay=c);a.style.display="none";return!1}function w$attribute(a,b){var c=a.getAttribute(b);return null!=c?c:a.hasAttribute(b)?"":null}
function w$element(a,b,c){if("string"==typeof a){if(!a||"#text"==a)return document.createTextNode(b);a=document.createElement(a)}var d=a,f=w$isElements(a)?a.length:null;if("string"==typeof b)for(var h=0;w$oneOrMore(h,f);++h){var g=b,k;null!==f&&(a=d[i]);"w:text"==g?a.textContent=c||"":"w:html"==g?a.innerHTML=c||"":g.startsWith(k="w:set:")?a[g.substring(k.length)]=c:g.startsWith(k="w:data:")?(g="data-"+g.substring(k.length),null!=c?a.setAttribute(g,c):a.removeAttribute(g)):g.startsWith(k="w:style:")?
(g=g.substring(k.length),null!=c?a.style[g]=c:a.removeStyle(g)):"w:show"==g?w$show(a,c):(g.startsWith("@")&&(g=g.substring(1)),g.startsWith(k="w:attr:")&&(g=g.substring(k.length)),null!=c?a.setAttribute(g,c):a.removeAttribute(g))}else if("object"==typeof b)for(h=0;w$oneOrMore(h,f);++h)for(g in null!==f&&(a=d[h]),b)w$element(a,g,b[g]);return a}
function w$defineElement(a,b,c){if(b){var d=b,f,h={};w$isArray(b)||(d=b.replace(/;;/g,"\n").split("\n"));for(b=0;b<d.length;++b)if((f=d[b].trim())&&"#"!=f.charAt(0)){var g=f,k=f,l;-1!=(l=f.indexOf("="))&&(g=f.substring(0,l),k=f.substring(l+1));h[g]=k;"@"==g.charAt(0)?"object"==typeof a&&a&&w$element(a,g.substring(1),k):-1==g.indexOf(".@")&&c&&c(a,g,k)}return h}}
function w$defineSelect(a,b,c){var d=w$defineElement(null,b);a.innerHTML="";w$defineElement(a,b,function(b,h,g){b=h+".@";g=a.appendChild(w$element("option",{"w:set:value":h,"w:text":g}));c==h&&(g.selected=!0);for(var f in d)f.startsWith(b)&&w$element(g,f.substr(b.length),d[f])});return a}
function w$radioClick(a){var b=a.target;if("INPUT"==b.nodeName&&"radio"==b.type)return a.stopPropagation(),a.cancelBubble=!0;w$queryAll("input[type='radio']",b.parentElement,function(a){a.checked=!0});return w$no(a)}
function w$defineRadio(a,b,c,d,f){var h=w$defineElement(null,c);a.innerHTML="";w$defineElement(a,c,function(c,k,l){c=k+".@";var m=a.appendChild(w$element("span",{"class":"wradio",style:"white-space:nowrap;",onclick:"return w$radioClick(event,this)"})),n=m.appendChild(w$element("input",{type:"radio",name:b,value:k}));d==k&&(n.checked=!0);m.appendChild(w$element("span",{"w:text":l}));for(var e in h)e.startsWith(c)&&w$element(m,e.substr(c.length),h[e]);f&&f.call(this,m)});return a}
function w$removeElement(a){a.parentElement.removeChild(a)}function w$warning(a,b){a instanceof HTMLElement&&(a=w$data(a));if(a)if(b)for(c=Object.getOwnPropertyNames(b),d=0;d<c.length;++d)f=c[d],f.startsWith("_w_")&&(a[f.substring(3)+"$warning"]=b[f]);else for(var c=Object.getOwnPropertyNames(a),d=0;d<c.length;++d){var f=c[d];f.endsWith("$warning")&&(a[f]=void 0)}}
function w$checkArg(a,b,c,d){var f=a,h;a instanceof Event&&(a=a.target);a instanceof HTMLElement&&(f=w$data(a));if(!d&&a instanceof HTMLElement&&"function"==typeof(h=f[(b||"")+"$check"]))return h.call(f,a,c);if(d||"function"!=typeof(h=f[(b||"")+"$valid"])){a=Object.getOwnPropertyNames(c);d={};for(var g=0;g<a.length;++g){var k=a[g];if(b&&"function"==typeof(h=f[b+"$"+k+"$valid"])){var l=h.call(f,c[k]);d["_w_"+k]=l||void 0}else"function"==typeof(h=f[k+"$valid"])&&(l=h.call(f,c[k]),d["_w_"+k]=l||void 0)}return d}return h.call(f,
c)}function w$hasAncestor(a,b){for(;a&&a!=document;a=a.parentElement)if(a==b)return!0;return!1}
function w$find(a,b,c){"string"==typeof a&&(a=w$query(a));var d;if("string"==typeof b)if(-1==(d=b.lastIndexOf("."))){var f=b;b=null}else f=b.substring(0,d),b=b.substring(d+1);a&&c&&(a=a.parentElement);for(;a&&a!=document;a=a.parentElement)if(c=a.classList,(!f||f==a.nodeName)&&c&&c.length)if("string"==typeof b){if(c.contains(b))return a}else for(d=0;d<b.length;++d)if(c.contains(b[d]))return a;return null}
function w$selectAll(a,b){if(a instanceof HTMLElement){var c=window.getSelection();c.removeAllRanges();if("INPUT"==a.nodeName)a.focus(),a.setSelectionRange(0,a.value.length);else{var d=document.createRange();d.selectNodeContents(a);c.addRange(d)}}else if(a instanceof Event){d=a.target;var f=document.activeElement==d||(c=window.getSelection())&&c.baseNode==d;f||"DIV"!=d.nodeName||"true"==d.getAttribute("contenteditable")||(f=!0);if(!f&&(w$selectAll(d),!b))return w$no(a)}}
function w$getParameters(a,b){null==b&&(b=window.location.search);b.startsWith("?")&&(b=b.substring(1));if(b)for(var c=b.split("&"),d=0;d<c.length;++d){var f=c[d].split("="),h=decodeURIComponent(f[0]),g;f=null==f[1]?null:decodeURIComponent(f[1]);h in a?w$isArray(g=a[h])?g.push(f):a[h]=[g,f]:a[h]=f}return a}
function w$setParameters(a,b){null==b&&(b=window.location.href);var c,d="";-1!=(c=b.indexOf("?"))&&(d=b.substring(c),b=b.substring(0,c));c=w$assign(w$getParameters({},d),a);d="";var f="?",h;for(h in c){var g=c[h];"undefined"!=typeof g&&(d+=f+h,null!=g&&(d+="="+encodeURIComponent(c[h])),f="&")}return b+d}function w$setCookie(a,b,c){var d="; expires=0";c&&(d="; expires="+(new Date(Date.now()+864E5*c)).toGMTString());document.cookie=a+"="+b+d+"; path=/"}
function w$getCookie(a,b){for(var c=a+"=",d=document.cookie.split(";"),f=0;f<d.length;++f){for(var h=d[f];h.startsWith(" ");)h=h.substring(1);if(h.startsWith(c))return h.substring(c.length)}return b}
function w$get(a,b){"string"==typeof a&&(a=w$query(id,b));if(a){if("FORM"==a.nodeName){for(var c={},d=0;d<a.elements.length;++d){var f=a.elements[d],h;("INPUT"==f.nodeName&&"submit"!=f.type&&"reset"!=f.type&&"button"!=f.type||"SELECT"==f.nodeName||"TEXTAREA"==f.nodeName)&&"undefined"!=typeof(h=w$get(f))&&(c[f.name]=h)}return c}if("INPUT"==a.nodeName){if("checkbox"==a.type){if(a.checked)return a.value;return}if("radio"==a.type){if(a.checked)return a.value;return}return a.value}if("SELECT"==a.nodeName){c=
void 0;f="";for(d=0;d<a.length;++d)a.options[d].selected&&(c=(c||"")+f+a.options[d].value,f=",");return c}return"TEXTAREA"==a.nodeName?a.value:a.innerHTML}return null}function ____ASYNC____(){}
function ASync(){this.queue=[];this.locked=!1;this.exec=function(a,b,c){if("string"==typeof b){var d=this;this.exec(function(){d.locked=!0;var f=c||new Image;f.onload=function(){try{a&&a(f)}finally{d.locked=!1}};f.onerror=function(){d.locked=!1};f.src=b})}else this.queue.push(a),this.queueID||(this.queueID=requestAnimationFrame(this.sync.bind(this)))};this.sync=function(a){a=this.queue;if(a.length){if(!this.locked){a=a.shift();try{a()}catch(b){console.log("async exception:",b)}}this.queueID=requestAnimationFrame(this.sync.bind(this))}else this.queueID=
null}}function ____AJAX____(){}
function w$ajax(a){if("undefined"!=typeof XMLHttpRequest)var b=new XMLHttpRequest;else for(var c="MSXML2.XmlHttp.6.0 MSXML2.XmlHttp.5.0 MSXML2.XmlHttp.4.0 MSXML2.XmlHttp.3.0 MSXML2.XmlHttp.2.0 Microsoft.XmlHttp".split(" "),d=0;d<c.length;d++)try{b=new ActiveXObject(c[d]);break}catch(l){}b.onreadystatechange=function(){if(4==b.readyState){if(200==b.status){var c=b.responseText;(b.getResponseHeader("Content-Type")||"").startsWith("application/json")&&(c=JSON.parse(c));a.success&&a.success(c,a)}else a.error&&
a.error(b);a.loop&&!WEAVEWORLD["@end"]&&requestAnimationFrame(a.loop)}};a.withCredentials&&(b.withCredentials=!0);c=a.data||{};d=a.method||"get";var f="";if("get"==d||"post"==d){var h="get"==d?"?":"",g;for(g in c){var k;"undefined"!=typeof(k=c[g])&&(f+=h+encodeURIComponent(g),null!=k&&(f+="="+encodeURIComponent(c[g])),h="&")}}else f=JSON.stringify(c);"get"==d?(b.open("GET",(a.url||"")+f,void 0!==a.async?a.async:!0),b.setRequestHeader("Pragma","w"),b.send()):"post"==d?(b.open("POST",a.url||"",void 0!==
a.async?a.async:!0),b.setRequestHeader("Pragma","w"),b.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),b.send(f)):"ajax"==d&&(b.open("POST",a.url||"",void 0!==a.async?a.async:!0),b.setRequestHeader("Pragma","w"),b.setRequestHeader("Content-type","application/json; charset=UTF-8"),b.send(f))}
function w$call(a,b,c,d){"function"==typeof b?b={success:b}:"string"==typeof b?b={w:b}:b instanceof HTMLElement?b={w$element:b}:b||(b={});null!=c&&(b.w$cmd=c);"undefined"!=typeof d&&(b.weave$data=d);b.method||(b.method="ajax");b.url||(b.url=location.pathname);b.error||(b.error=WEAVEWORLD.w$ajax$error);b.success||(b.success=WEAVEWORLD.w$receive);null==a?(b.url=".w.htm",a={"!@":WEAVEWORLD["@time"]},b.loop=W$SYNC):"string"==typeof a&&(c=a,a={},a[c]="");b.data=a;w$ajax(b)}function ____MENU____(){}
function w$wmenuOff(a){for(var b=WEAVEWORLD.menuStack;b.length&&b[b.length-1]!=a;)document.body.removeChild(b.pop())}
function w$wmenuShow(a,b,c,d,f,h,g,k){var l=void 0;"string"==typeof b&&(b=document.getElementById(b),b=b.cloneNode(!0),b.removeAttribute("id"));b.$w||(b.$w={});b.$w.parent=a;g&&(l=g(a,b,c,d,f,h));b.classList.remove("w");WEAVEWORLD.menuStack.push(b);for(g=0;g<b.children.length;++g){var m=b.children[g];m.classList.contains("wmenuitem")&&(m.classList.remove("wmenuitem-selected"),m.onmouseover=function(c){var e=c.target;w$no(c);for(c=0;c<b.children.length;++c){var d=b.children[c];d.classList.contains("wmenuitem")&&
d!=e&&d.classList.remove("wmenuitem-selected")}e.classList.add("wmenuitem-selected");c=e.getBoundingClientRect();for(d=0;d<e.children.length;++d){var f=e.children[d];if(f.classList.contains("wmenu")){w$wmenuShow(a,f.cloneNode(!0),c.right-2,c.left,c.top,c.bottom,null,k);break}}},m.onclick=function(b){w$no(b);var e=b.currentTarget;if(e.classList.contains("disable"))return!1;for(var c=e.getBoundingClientRect(),d=0;d<e.children.length;d++){var f=e.children[d];if(f.classList.contains("wmenu"))return w$wmenuShow(a,
f.cloneNode(!0),c.right-5,c.left,c.top,c.bottom,null,k),!1}e.getAttribute("w:on:menu");c={};var m;null!=(m=w$attribute(e,"w:value"))&&(c[w$findName(e)||"value"]=m);w$on(b,"menu",null,c);w$wmenuOff()})}b.onmouseout=function(a){w$no(a);a=a.relatedTarget||document.activeElement;if(b.classList.contains("wmenuM"))return!1;for(;null!=a&&!a.classList.contains("wmenu");)a=a.parentElement;w$wmenuOff(a)};"undefined"==typeof l&&(b.style.position="absolute",b.style.display="inline-block",b.style.left=(c+=window.pageXOffset)+
"px",b.style.top=(f+=window.pageYOffset)+"px",document.body.appendChild(b),c=document.body.getBoundingClientRect(),f=b.getBoundingClientRect(),f.right>c.right&&(b.style.left=Math.max(0,d-f.width+window.pageXOffset)+"px"),f.bottom>c.bottom&&(b.style.top=Math.max(0,h-f.height+window.pageYOffset)+"px"));return b}
function w$menu(a,b,c,d){if(a instanceof Event){var f=a;a=f.target;w$no(f);var h={left:f.clientX,right:f.clientX,top:f.clientY,bottom:f.clientY};b||(b=a.getAttribute("w:on:"+f.type+":menu")||a.getAttribute("w:menu"))}else h=a.getBoundingClientRect(),b||(b=a.getAttribute("w:menu"));"string"==typeof b&&(b.startsWith("#")?(b=w$query(b),b=b.cloneNode(!0),b.removeAttribute("id"),b.$w||(b.$w={}),b.$w.parent=a):(f=w$data(a),b=w$use(b,f||{},null,a)));w$wmenuShow(a,b,h.left,h.right,h.top,h.bottom,c,d)}
function _____EVENTS_____(){}function w$no(a){a.preventDefault();a.stopPropagation();a.cancelBubble=!0;return!1}function w$default(a){a.stopPropagation();a.cancelBubble=!0;return!1}function w$action(a,b,c){for(var d;a&&(!a.$w||!(d=a.$w.$actions));a=a.parentElement);if(!a)return null;if(d)for(var f=0;f<d.length;++f)d[f].$do(a,b,a.$w.$,c)}
function w$arg(){for(var a=0,b={};a<arguments.length;++a){var c=arguments[a];if("string"==typeof c)b[c]="";else if("object"!=typeof c||!c||c instanceof HTMLElement)break;else w$assign(b,c)}c=arguments[a];for(var d=w$data(c),f=arguments[a+1].split(","),h=0;h<f.length;++h){var g=f[h].trim(),k;if(-1!=(k=g.indexOf(":"))){var l=WEAVEWORLD.weave$evalMacro(c,d,g.substring(k+1));g=g.substring(0,k)}else l=d[g];"undefined"!=typeof l&&(b[g]=l)}for(a+=2;a<arguments.length;++a)c=arguments[a],"object"==typeof c&&
c&&w$assign(b,c);return b}
function w$on(a,b,c,d,f,h){function g(a,e,b){var c,d;if(-1!=(c=e.indexOf("{"))&&(0<c&&(e=e.substring(c)),c=w$data(a),-1!=e.indexOf("{{")&&(e="{"+WEAVEWORLD.weave$evalMacro(a,c,e.substring(1),!0)),"{}"!=e))try{var f=JSON.parse(e)}catch(x){console.log(x)}e=b;f&&(e=e?w$assign(e,f):f);e||(e={});if(b&&(null!=(d=w$attribute(a,"w:name"))||null!=(d=w$attribute(a,"name")))&&d){var m;"undefined"!=typeof(m=a.value)?e[d]=m:a.hasAttribute("w:value")&&(e[d]=a.getAttribute("w:value"))}return e}var k=c=c||a.target,
l,m=null;b="string"==typeof f?f:"on"+b;try{a:for(;c;c=!b.startsWith("on")&&c.$w&&c.$w.parent?c.$w.parent:c.parentElement){var n;if(c.getAttribute){if(n=c.getAttribute("w:on:"+b+":menu")){w$no(a);var e=g(c,n),r;-1!=(r=n.indexOf("{"))&&(n=n.substring(0,r));var y=w$data(c);m=c.getBoundingClientRect();y&&(0===Object.keys(e).length?e=y:Object.setPrototypeOf(e,y));var A=w$use(n,e,null,c);w$wmenuShow(c,A,m.left,m.right,m.top,m.bottom);return!0}if(c.hasAttribute(n="w:on:"+b+":data")){var w=c;e=g(c,n=c.getAttribute(n));
w=n&&0<n.indexOf("{")?w$find(w,n.substring(0,n.indexOf("{"))):w$find$(w);for(var z in e){var C=e[z];if(z.startsWith("+-")&&(z=z.substring(2),w.dataset)){var D=w$attribute(w,"data-"+z);C=1==C?1==D?0:1:!0===C||"true"===C?D&&"false"!=D?!1:!0:null!=D&&"false"!==D?null:""}null!=C?w.setAttribute("data-"+z,C):w.removeAttribute("data-"+z)}}if(null!=(n=w$attribute(c,"w:on:"+b+":set")))for(z in w=c,e=g(c,n),n&&0<n.indexOf("{")&&(w=w$find(w,n.substring(0,n.indexOf("{")))),w=w$find$(w),e)C=e[z],z.startsWith("+-")&&
(z=z.substring(2),w.$w.$&&(C=!w.$w.$[z])),(w.$w||(w.$w={})).$[z]=C;null!=(n=w$attribute(c,"w:on:"+b+":action"))&&(w=c,e=g(c,n,{}),n&&0<(r=n.indexOf("{"))&&(w=w$find(w,n.substring(0,r))),w$action(w,a,e));if(null!=(n=w$attribute(c,"w:on:"+b))){if(!n){m=!0;break a}-1!=(r=n.indexOf("{"))&&(d=g(c,n.substring(r),d||{}),n=n.substring(0,r));m=w$on(a,n,c,d,n,!0);if(null!==m)break a}}var q=c.classList;if(q)for(z=0;z<q.length;++z){var u=q[z];if(u&&(l=WEAVEWORLD.w$type[u])&&"function"==typeof l[b]){n=l;y=w$data(c);
var p;y&&!w$isArray(y)&&(n=WEAVEWORLD.w$setPrototypeOf(y,l));if(p=l[b+"$arg"])d=w$arg(c,p,d);m=l[b].call(n,c,a,d);if(null!==m)break a}}}null===m&&(l=WEAVEWORLD.w$type[""])&&"function"==typeof l[b]&&(n=l,(y=w$find$(c))&&(y=y.$w)&&(y=y.$)&&!w$isArray(y)&&(n=WEAVEWORLD.w$setPrototypeOf(y,l)),m=l[b].call(n,document.body,a,d));if(null!==m)return a&&(!1===m||"dragover"==a.type?a.stopPropagation():"dragstart"!=a.type&&w$no(a)),m;if(!b.startsWith("on")&&!h){console.log("Can not find event handler for "+b,
k);return}}catch(G){console.log("Event handling error durint `"+b+"`",G)}return null}function _____WEAVEWORLD_____(){}LOG=0;
function WElement(a,b,c,d){this.nodeName=a.nodeName;Object.defineProperty(this,"nodeType",{get:function(){return"#text"==this.nodeName?3:1}});if(3==a.nodeType){var f=a.textContent,h=c(f);this.textContent=h;f!=h&&(a.textContent=h)}else if(1==a.nodeType){a.normalize();var g;if((g=a.attributes)&&g.length){this.attributes=[];for(var k=0;k<g.length;++k){var l=g[k];f=l.value;h=c(f);b&&"w:define"==l.name&&(b[h]=this);this.attributes.push({name:l.name,value:c(h)});f!=h&&a.setAttribute(l.name,h)}}if(a=a.firstChild)for(this.childNodes=
[];f=a;)a=f.nextSibling,1==f.nodeType||3==f.nodeType?(this.childNodes.push(new WElement(f,b,c,d)),"w:else"==f.nodeName&&w$removeElement(f)):8==f.nodeType&&d&&d(c(f.textContent))}this.getAttribute=function(a){var b;if(b=this.attributes)for(var e=0;e<b.length;++e)if(b[e].name==a)return b[e].value;return null};this.hasAttribute=function(a){return null!=this.getAttribute(a)};this.cloneNode=function(a){if(3==this.nodeType)var b=document.createTextNode(this.textContent);else if(1==this.nodeType){b=document.createElement(this.nodeName);
var e;if(e=this.attributes)try{for(var c=0;c<e.length;++c){var d=e[c];b.setAttribute(d.name,d.value)}}catch(A){console.log(A,this)}if(a&&(e=this.childNodes))try{for(c=0;c<e.length;++c)b.appendChild(e[c].cloneNode(!0))}catch(A){console.log(A,this)}}return b}}
function WAttributeReference(a,b){this.parentElement=a;this.name=b;this.nextSibling=null;Object.defineProperty(this,"nodeType",{get:function(){return 2}});Object.defineProperty(this,"value",{get:function(){return this.parentElement.getAttribute(this.name)}})}
WEAVEWORLD=function(){function a(a){return a&&("undefined"==typeof a.length||0<a.length)}function b(a,b,e){var c;if(0==e.length)return b;if(e.match("(^([a-zA-Z_$][a-zA-Z0-9_$]*){0,1}\\\\)|(^[@a-zA-Z_$][a-zA-Z0-9_$]*)")){if("undefined"==e)return;if("null"==e)return null;if("true"==e)return!0;if("false"==e)return!1;if('""'==e||"''"==e)return"";if("0"==e)return 0;if("1"==e)return 1;if(-1!=(c=e.indexOf("\\")))if(0==c)b=document.body.$w.$;else{var d=e.substring(0,c);a:for(;null!=(a=a.parentElement);){if(a==
document.body){b=a.$w.$;break}if(a.$w&&("."==d||a.classList.contains(d))){b=a.$w.$;if(-1!=(d=e.indexOf("\\",c+1))){d=e.substring(c+1,d);e=e.substring(c+1);continue a}break}}}e=e.substring(c+1);if(-1==e.indexOf("."))return b[e];a=e.split(".");b=b[a[0]];for(e=1;e<a.length;++e)b=b[a[e]];return b}return eval(e)}function c(c,d,e){for(var f=0,m,n=0;n<=e.length;++n){var k=e.charAt(n);if("|"==k||""==k){var g=k=m=void 0,h=c,l=d;f=e.substring(f,n);var q=0;if("!"==f.charAt(0))m=!a(b(h,l,f.substring(1)));else{for(var u=
0;u<=f.length;++u){var p=f.charAt(u);if("="==p||"!"==p||""==p)g?(q=b(h,l,f.substring(q,u)),q="undefined"!=typeof q?k==q:"undefined"==typeof k,"="==g?m="undefined"==typeof m?q:m||q:"!"==g&&(m="undefined"==typeof m?!q:m&&!q)):k=b(h,l,f.substring(q,u)),q=u+1,g=p}m="undefined"!=typeof m?m:k}if(a(m))break;f=n+1}}return m}function d(b,f,e){for(var m=0,n,k,g=0;g<=e.length;++g){var h=e.charAt(g);if("?"==h||":"==h||""==h){if(!n)k=c(b,f,e.substring(m,g));else if("?"==n){if(a(k))return c(b,f,e.substring(m,g));
if(""!=h)return d(b,f,e.substring(g+1))}else if(":"==n){if(!a(k))return c(b,f,e.substring(m,g));if(""!=h)return d(b,f,e.substring(g+1))}m=g+1;n=h}}return k}function f(a,b,e){var c;if(!e)return b;try{if(e.startsWith("[")&&-1!=(c=e.indexOf("]"))){var m=f(a,b,e.substring(c+1));-1==(c=(e=e.substring(1,c)).indexOf(" "))&&(c=e.length);var g=e.substring(0,c),n=a;for(;n;n=n.parentElement){var h=n.classList;if(h)for(var l=0;l<h.length;++l){var D=h[l];if(D&&(t=k.w$type[D])&&"function"==typeof t[g]){var q=t;
b&&"object"==typeof b&&!Array.isArray(b)&&(q=k.w$setPrototypeOf(b,t));m=t[g].call(q,a,m,e.substring(c+1));return m=w$proxy(m)}}}if("function"==typeof k.to[g])return q=k.to,b&&"object"==typeof b&&!Array.isArray(b)&&(q=b),m=k.to[g].call(q,a,m,e.substring(c+1)),w$proxy(m);console.log("Transformation `"+g+"` was not found at:",a)}return d(a,b,e)}catch(u){throw console.log("Exception evaluating `"+e+"`:",u,a),u;}}function h(a,b,e,c){for(var d=0,m,k,g=null;-1!=(m=e.indexOf("{{",d))&&-1!=(k=e.indexOf("}}",
m));)d<m&&(g=(g||"")+e.substring(d,m)),d=f(a,b,e.substring(m+2,k)),c&&(d=null!=d?JSON.stringify(d):"null"),null!=d&&(g=null!=g?String(g)+d:d),d=k+2;if(!c&&0==d)return d=f(a,b,e);d<e.length&&(g=(g||"")+e.substring(d));return g}function g(a,b,e,c){if(!b||!b.length)return!1;var d=!1,f=a.getAttribute("w:reflect"),g;f=f&&(g=Object.getPrototypeOf(e))?g[f]:null;try{for(g=0;g<b.length;++g){var m=b[g].name,n=b[g].value,r=m,l,u=!1;k.weave$currentAttr=m;if(2!==c)if(m.startsWith(l="w:attr:")){u=!0;m=m.substring(l.length);
var p=h(a,e,n);f&&!1===f.call(e,a,r,p)||p!=a.getAttribute(m)&&(null!=p?a.setAttribute(m,p):a.removeAttribute(m))}else if(m.startsWith(l="w:data:"))u=!0,m="data-"+m.substring(l.length),p=h(a,e,n),f&&!1===f.call(e,a,r,p)||p!=a.getAttribute(m)&&(null!=p?a.setAttribute(m,p):a.removeAttribute(m));else if(m.startsWith(l="w:style:"))u=!0,m=m.substring(l.length),p=h(a,e,n),f&&!1===f.call(e,a,r,p)||p!=a.style[m]&&(a.style[m]=p);else if("w:text"==m)u=d=!0,p=h(a,e,n),f&&!1===f.call(e,a,r,p)||a.textContent==
p||(a.textContent=p||"");else if("w:html"==m)u=d=!0,p=h(a,e,n),f&&!1===f.call(e,a,r,p)||(a.innerHTML=p||"");else if("w:show"==m)u=!0,p=h(a,e,n),f&&!1===f.call(e,a,r,p)||w$show(a,p);else if("w:for"==m)u=!0,p=h(a,e,n),(a.$w||(a.$w={})).$for=p;else if("w:value"==m&&(u=!0,p=n,!f||!1!==f.call(e,a,r,p))&&(p=w$findName(a))){p=h(a,e,p);var G="OPTION"==a.nodeName?"selected":"checked";(n||"")==(p||"")?a.setAttribute(G,""):a.removeAttribute(G);break}u||1===c||(m.startsWith(l="w:set:")?(m=m.substring(l.length),
p=h(a,e,n),f&&!1===f.call(e,a,r,p)||(a[m]=p)):"w:warning"==m?(p=h(a,e,n),f&&!1===f.call(e,a,r,p)||(a.setCustomValidity&&a.setCustomValidity(p||""),p?a.setAttribute("w:validity",p):a.removeAttribute("w:validity"))):"w:show:for"==m?(p=h(a,e,n),f&&!1===f.call(e,a,r,p)||w$show(a,w$for(a,p))):"w:enable:for"==m&&(p=h(a,e,n),f&&!1===f.call(e,a,r,p)||(a.disabled=!w$for(a,p))))}}finally{k.weave$currentAttr=null}return d}var k={w$type:{"":{}},w$ajax$error:null,w$defined:{},"@time":0,"@end":0,menuStack:[],w$proxy$sets:new Set,
w$proxy$paused:new Set,w$proxy$when:0,w$proxy$AnimationFrame:null,w$process:function(a,b,e){var c=k.w$weaver[a[0]];if(!c)throw["Not found",a,{el:b,div:e}];c(a[2],b,a[3],e)},weave$current:null},l=k.w$events={holdTime:2E3,clickedTime:2E3,clickCount:0,buttons:0,mouseDownTime:0,keyDownTime:0,mouseAnchor:{x:0,y:0},mouseEvent:{},keyEvent:{},timeoutID:0,timeoutClickedID:0,target:null,setTimeOut:function(a,b){clearTimeout(l.timeoutID);a&&(l.timeoutID=setTimeout(a,b||l.holdTime))},setTimeOutClicked:function(a,
b){clearTimeout(l.timeoutClickedID);a&&(l.timeoutClickedID=setTimeout(a,b||l.clickedTime))}};document.addEventListener("keydown",function(a){l.setTimeOutClicked();l.keyDownTime=a.timeStamp;l.keyEvent=a;l.setTimeOut(function(){w$on(a,"keyhold")});w$on(a,"keydown")},!1);document.addEventListener("keyup",function(a){l.setTimeOut();w$on(a,"keyup")},!1);document.addEventListener("keypress",function(a){w$on(a,"keypress")},!1);document.addEventListener("click",function(a){w$on(a,"click")},!1);document.addEventListener("dblclick",
function(a){w$on(a,"dblclick")},!1);document.addEventListener("wheel",function(a){w$on(a,"wheel")},!1);document.addEventListener("touchstart",function(a){w$on(a,"touchstart")},!1);document.addEventListener("touchmove",function(a){w$on(a,"touchmove")},!1);document.addEventListener("mouseout",function(a){l.setTimeOut();w$on(a,"mouseout")},!1);document.addEventListener("mouseover",function(a){l.setTimeOut();w$on(a,"mouseover")},!1);document.addEventListener("mousedown",function(a){if(500<=a.timeStamp-
l.mouseDownTime||8<Math.abs(l.mouseAnchor.x-a.clientX)||8<Math.abs(l.mouseAnchor.y-a.clientY))l.clickCount=0;l.clickCount++;l.buttons=a.buttons;l.mouseDownTime=a.timeStamp;l.mouseAnchor.x=a.clientX;l.mouseAnchor.y=a.clientY;l.mouseEvent=a;w$on(a,"mousedown");l.setTimeOut(function(){w$on(a,"mousehold")});l.setTimeOutClicked();return!0},!0);document.addEventListener("mousemove",function(a){l.mouseEvent=a;"undefined"!=typeof W$MOUSEMOVE&&W$MOUSEMOVE&&w$on(a,"mousemove");l.setTimeOut(function(){w$on(a,
"mousehold")})},!1);document.addEventListener("mouseup",function(a){l.mouseEvent=a;if(w$on(a,"mouseup"))return!0;if(500>=a.timeStamp-l.mouseDownTime&&8>=Math.abs(l.mouseAnchor.x-a.clientX)&&8>=Math.abs(l.mouseAnchor.y-a.clientY)){if(w$on(a,"mouseclick"))return!0;l.setTimeOut();l.setTimeOutClicked(function(){w$on(a,"mouseclicked")},333)}else l.setTimeOut();return!0},!0);document.addEventListener("input",function(a){w$on(a,"input")},!1);document.addEventListener("change",function(a){w$on(a,"change")},
!1);document.addEventListener("dragstart",function(a){w$on(a,"dragstart")},!1);document.addEventListener("dragenter",function(a){w$on(a,"dragenter")},!1);document.addEventListener("dragover",function(a){w$on(a,"dragover")},!1);document.addEventListener("dragleave",function(a){w$on(a,"dragleave")},!1);document.addEventListener("drop",function(a){w$on(a,"drop")},!1);document.addEventListener("paste",function(a){w$on(a,"paste")},!1);document.addEventListener("contextmenu",function(a){w$on(a,"contextmenu")},
!1);k.W$HTMLTAGS="P BR B I U IMG A".split(" ");k.w$normalizeHTML=function e(a){try{for(var b=a.childNodes.length;0<=--b;){var c=a.childNodes[b];if(1==c.nodeType)if(e(c),"BR"==c.nodeName&&"DIV"==a.nodeName&&b==a.childNodes.length-1)a.removeChild(c);else if(!k.W$HTMLTAGS.includes(c.nodeName)){for("DIV"==c.nodeName&&a.insertBefore(document.createElement("BR"),c);c.childNodes.length;){var d=c.childNodes[0];1!=d.nodeType&&3!=d.nodeType||a.insertBefore(d,c)}a.removeChild(c)}}a.normalize()}catch(w){console.log(w)}return a};
k.w$weaver={eval:function(a,e,b,c){eval(a)},html:function(a,e,b,c){var d=Array.isArray(e)?e[0]:e;switch(a){case "begin":k["@end"]=0;break;case "end":k["@end"]=1;break;case "open":b&&b.url?location=b.url:location.reload();break;case "text":for(a=0;a<e.length;++a)d=e[a],d.textContent=b.$;break;case "html":for(a=0;a<e.length;++a)d=e[a],d.innerHTML=b.$;break;case "attr":for(a=0;a<e.length;++a){d=e[a];for(var f in b)d.setAttribute(f,b[f])}break;case "prop":for(a=0;a<e.length;++a)for(f in d=e[a],b)d[f]=
b[f];break;case "style":for(a=0;a<e.length;++a)for(f in d=e[a],b)c=b[f],null!=c?d.style[f]=c:d.style.removeProperty(f);break;case "validity":LOG&&console.log("validity",e);for(a=0;a<e.length;++a)d=e[a],d.setCustomValidity(b.message);break;case "remove":for(a=0;a<e.length;++a)d=e[a],d.parentElement.removeChild(d);break;case "content":for(e=c?c.childNodes:[];0<d.childNodes.length;)d.removeChild(d.childNodes);for(;0<e.length;)d.appendChild(e[0]);break;case "addBegin":e=c?c.children:[];for(b=d.firstElementChild;0<
e.length;)d.insertBefore(f=e[0],b),b=f;break;case "addEnd":for(e=c?c.children:[];0<e.length;)d.appendChild(e[0]);break;case "addBefore":e=c?c.children:[];b=d;for(d=d.parentElement;0<e.length;)d.insertBefore(f=e[0],b),b=f;break;case "addAfter":e=c?c.children:[];b=d.nextSibling;for(d=d.parentElement;0<e.length;)d.insertBefore(f=e[0],b),b=f;break;case "replace":e=c?c.children:[];b=d;for(d=d.parentElement;0<e.length;)d.insertBefore(f=e[0],b),b=f;d.removeChild(b)}},open:function(a,e,b,c){location.reload()}};
k.w$receive=function(a,e){if(a)if("string"==typeof a)for(var b=a.indexOf("\x3c!--[");-1!=b;){var c=b+4,d=a.indexOf("]--\x3e",c),f=a.substring(c,d+1);b=a.indexOf("\x3c!--[",d+4);if("[]"!=f)try{var g=JSON.parse(f),h=g[1]?w$queryAll(g[1]):document.body,l;f=null;var n;(l=g[4])&&k["@time"]<(l=Number(l))&&(k["@time"]=l);if("\x3c!--[]--\x3e"==a.substring(b,b+9)&&(n=a.substring(d+4,b).trim())){f=document.createElement("DIV");if(n.startsWith("<td")||n.startsWith("<tr")){var u=document.createElement("TABLE");
f.appendChild(u);f=u}n.startsWith("<td")&&(n="<tr>"+n+"</tr>");f.innerHTML=n;if(n.startsWith("<td")||n.startsWith("<tr"))f=f.tBodies[0];n.startsWith("<td")&&(f=f.rows[0])}k.w$process(g,h,f)}catch(p){console.log("EXCEPTION:",a.substring(c-4,-1!=b?b:a.length),p)}}else e.w$element&&("undefined"!=typeof e.weave$data&&(a=e.weave$data),w$weave(e.w$element,e.w$cmd||"",a))};k.toggle=function(a,b){return 1==b?a?0:1:"string"==typeof b?a?null:b:a||"false"==a?!1:!0};k.to={"?":function(b,e,c){return a(e)},"??":function(b,
e){return a(e)?"":null},1:function(b,e){return a(e)?1:0},"{}":function(a,b,c){return c&&c.trim()?w$arg(a,c):{}}};k.weave$evalMacro=h;k.w$apply=function z(b,c,d,h,l){var e=c=w$proxy(c),r=k.weave$current;k.weave$currentAttr=null;try{if(2==b.nodeType)return g(k.weave$current=b.parentElement,[b],c,0),b;k.weave$current=b;if(null==d)if(b.$w&&b.$w.w$)d=b.$w.w$,h||(h=!0);else{if(h)throw["Not woven Element",b];d=b;b=d.cloneNode(!1);(b.$w||(b.$w={})).w$=d;d.parentElement.replaceChild(b,d)}else(b.$w||(b.$w=
{})).w$=d;if(l){var q=d.childNodes;h=d=null;var u;var p=-1;var y=l;do for(var v=d||0;v<(null!=h?h:q?q.length:0);++v){var w=q[v],A=!1;e=c;if(1==w.nodeType)if("W:ELSE"==w.nodeName)break;else if(w.hasAttribute("w:the")&&!w.getAttribute("w:the")){if(null==d){d=u=v;h=v+1;y=null;for(var E=v+1;E<q.length;++E){var B=q[E];1==B.nodeType&&B.hasAttribute("w:the")&&!B.getAttribute("w:the")&&(u=E,h==v+1&&(h=E))}}++p>=l.$$.length-1&&(d=h=null,v=u);if(p<l.$$.length)e=l.$$[p],A=!0;else continue}var H,x=A&&l.w$map.get(e);
(H=!!x)?w=x.$w.w$:x=w.cloneNode(!1);b.appendChild(x);A&&((x.$w||(x.$w={})).$$index=p,l.w$map.set(e,x));B=z(x,e,w,H,y)}while(null!=d&&d<(null!=h?h:q.length))}else if(1==b.nodeType){l=function(a,b){var c;if(c=a.getAttribute("w:use")){var e=k.w$defined[c];if(!e)throw"w:define `"+c+"` was not found";for(c=0;c<e.attributes.length;++c){var d=e.attributes[c];"w:define"!=d.name&&(a.hasAttribute(d.name)||a.setAttribute(d.name,d.value))}b=e.childNodes}return b};if((null!=(p=b.getAttribute("w:at"))||null!=(p=
b.getAttribute("w:name")))&&p)for(u="$at$"+p,x=b;x;x=x.parentElement){var I=x.classList;if(I&&I.length)for(v=0;v<I.length;++v){var K;(K=k.w$type[I[v]])&&u in K&&((x.$w||(x.$w={})).$actions||(x.$w.$actions=[])).push({el:b,$do:K[u]})}}var F=b.getAttribute("w:each");y=b.getAttribute("w:the");var J=b.getAttribute("w:if");u=!0;B=!1;q=d.childNodes;if(null!=F){null!=J&&(u=a(f(b,c,J)));if(u){if(e=-1===h?b.$w.$$:f(b,e,F),w$isArray(e)&&null!=(p=b.getAttribute("w:when"))){F=[];for(v=0;v<e.length;++v)a(f(b,e[v],
p))&&F.push(e[v]);e=w$proxy(F)}}else e=null;w$isArray(e)||(e=w$proxy([]));""!==y&&(p=b.getAttribute("w:type"))&&(e=k.w$setPrototypeOf(e,w$type[p]));b.$w.$$=e;h&&b.$w.w$map||(b.$w.w$map=new Map);for(;b.firstChild;)b.removeChild(b.firstChild);if(!(B=u=!!e.length))for(B=u=!0,v=0;v<q.length;++v)if("W:ELSE"==q[v].nodeName){B=u=!1;break}if(u)if(""===y)for(v=0;v<e.length;++v)x=h&&b.$w.w$map&&b.$w.w$map.get(e[v]),(H=!!x)||(x=b.cloneNode(!1),x.removeAttribute("w:each"),b.$w.w$map.set(e[v],x)),b.appendChild(x),
z(x,e[v],d,H);else q=l(b,q),g(b,b.attributes,c),z(b,c,d,h,b.$w)}else{if(null!=y){e=-1===h?b.$w.$:f(b,e,y);if(p=b.getAttribute("w:type"))e=k.w$setPrototypeOf(e,k.w$type[p]);b.$w.$=e}null!=(p=w$attribute(b,"w:named"))?B|=k.w$named(b,e,p):null!=(p=w$attribute(b,"w:name"))&&(B|=k.w$name(b,e,p,!0));q=l(b,q);B|=g(b,b.attributes,e,1);null!=J&&(u=a(f(b,c,J)),(b.$w||(b.$w={})).w$=d,h=!1);"W"==b.nodeName&&(e=f(b,e,b.getAttribute("name")),b.textContent=!e||w$isArray(e)?"":e,B=!0)}if(!B&&q){if(!u){for(v=0;v<
q.length;++v)if(w=q[v],"W:ELSE"==w.nodeName){u=w;q=w.childNodes;break}for(u||(q=null);b.lastChild;)b.removeChild(b.lastChild)}if(q){A=b.childNodes;if(h&&(h=q.length==A.length))for(v=0;v<A.length;++v)if(!(E=A[v]).$w||E.$w.w$!=q[v]){h=!1;break}if(h)for(q=A,v=0;v<q.length;++v)w=q[v],z(w,e,w.$w.w$,!0);else{for(;b.lastChild;)b.removeChild(b.lastChild);for(v=0;v<q.length;++v){w=q[v];if("W:ELSE"==w.nodeName)break;x=b.appendChild(w.cloneNode(!1));z(x,e,w)}}}}b.attributes&&g(b,b.attributes,e,2);b.$w.$actions&&
(w$action(b,null,b.$w.$),LOG&&console.log(b.$w.$actions))}1==b.nodeType&&b.classList.remove("w")}finally{k.weave$current=r,k.weave$currentAttr=null}return b};k.w$setPrototypeOf=function(a,b){if(!b||!a||"object"!=typeof a||Array.isArray(a)||Object.getPrototypeOf(a)===b||b.isPrototypeOf(a))return a;if("undefined"==typeof Proxy){if(Object.getPrototypeOf(a)==Object.prototype)return Object.setPrototypeOf(a,b)}else Object.setPrototypeOf(a=w$proxy(a),b);return a};k.css=function(a){k.w$STYLE||(k.w$STYLE=
w$element("style",{name:"w:css"}),k.w$STYLE.appendChild(document.createTextNode("")),document.head.appendChild(k.w$STYLE));if("string"==typeof a){var b=k.w$STYLE.sheet;b.insertRule(a,b.length?b.length:0)}return k.w$STYLE};k.jsonTransfer=function(a,b){if("undefined"==typeof b){var c=a.dataTransfer&&a.dataTransfer.getData("application/json")||W$DATATransfer;return"string"==typeof(c=W$DATATransfer)&&c?JSON.parse(c):c}a.dataTransfer.setData("application/json",W$DATATransfer=b);return a.dataTransfer};
k.w$for=function(a){if("string"==typeof a&&a)switch(a.charAt().toLowerCase()){case "0":case "-":return 0;case "r":case "g":return 2;case "a":return 6;case "u":return 7;case "s":case "w":case "+":return 8;case "d":case "*":return 9}return 5};k.w$name=function(a,b,c,d){var f=a.nodeName,e,g,k,h=!1,l=-1!=(k=c.indexOf("{"))?c.substring(0,k):c;l&&!a.hasAttribute("name")&&a.setAttribute("name",l);l.startsWith("!")&&(l=l.substring(1));"undefined"!=typeof(k=g=b[l+"$type"])&&("boolean"==k?k="checkbox":"string"==
k?k="text":"html"==k?k="text":"integer"==k&&(k="number"));(b[e=l+"$hint"]||b[e=l+"$title"])&&a.setAttribute("w:attr:title",c);if("FORM"==f)a.hasAttribute("onsubmit")||(a.setAttribute("onsubmit","return w$submit(event)"),a.hasAttribute("w:on:onsubmit")||a.setAttribute("w:on:onsubmit",c));else if("BUTTON"==f)(e=b[l+"$definition"])&&w$defineElement(a,e),a.hasAttribute("onclick")||a.hasAttribute("w:on:onclick")||a.setAttribute("w:on:onsubmit",c),"undefined"==typeof b[e=l+"$for"]||a.hasAttribute("disabled")||
a.hasAttribute("w:attr:disabled")||a.hasAttribute("w:enable:for")||a.setAttribute("w:enable:for",e);else if("SELECT"==f){if(e=b[l+"$definition"])h=!0,w$defineSelect(a,e);(e=l+"$required")in b&&!a.hasAttribute("required")&&!a.hasAttribute("w:attr:required")&&a.setAttribute("w:attr:required","[??]"+e);(e=l)in b&&!a.hasAttribute("w:attr:value")&&!a.hasAttribute("w:set:value")&&a.setAttribute("w:set:value",e);"undefined"==typeof b[e=l+"$for"]||a.hasAttribute("disabled")||a.hasAttribute("w:enable:for")||
a.setAttribute("w:enable:for",e)}else if("INPUT"==f){c=b[l+"$length"];if("string"==typeof c&&c&&-1!=(k=c.indexOf(","))){var p=c.substring(k+1);c=c.substring(0,k)}"undefined"==typeof k||a.hasAttribute("type")||a.setAttribute("type",k);(e=b[e=l+"$definition"])&&w$defineElement(r,e);"undefined"==typeof b[e=l+"$placeholder"]||a.hasAttribute("placeholder")||a.hasAttribute("w:attr:placeholder")||a.setAttribute("w:attr:placeholder",e);if("button"==a.type||"submit"==a.type){var r;for(r=a;r&&"FORM"!=r.nodeName;r=
r.parentElement);console.log("FORM",r,a);"undefined"==typeof b[e=l+"$for"]||a.hasAttribute("disabled")||a.hasAttribute("w:enable:for")||a.setAttribute("w:enable:for",e)}else"checkbox"==a.type||"radio"==a.type?(k=w$attribute(a,"value"),!l||a.hasAttribute("checked")||a.hasAttribute("w:attr:checked")||a.hasAttribute("w:set:checked")||(null!=k?a.setAttribute("w:attr:checked",l+"='"+k+"'?'checked':null"):a.setAttribute("w:attr:checked",l+"?'checked':null"))):((e=l+"$required")in b&&!a.hasAttribute("required")&&
!a.hasAttribute("w:attr:required")&&a.setAttribute("w:attr:required","[??]"+e),(e=l)in b&&!a.hasAttribute("w:attr:value")&&!a.hasAttribute("w:set:value")&&a.setAttribute("w:attr:value",e),"number"==a.type||"date"==a.type?((e=l+"$min")in b&&!a.hasAttribute("min")&&!a.hasAttribute("w:attr:min")&&a.setAttribute("w:attr:min",e),a.hasAttribute("max")||a.hasAttribute("w:attr:max")||((e=l+"$max")in b?a.setAttribute("w:attr:max",e):c&&a.setAttribute("max",Math.pow(10,c-p)-1)),"number"!=a.type||a.hasAttribute("step")||
a.hasAttribute("w:attr:step")||(p?a.setAttribute("step",Math.pow(10,-p)):(e=l+"$step")in b?a.setAttribute("w:attr:step",e):"integer"!=g&&a.setAttribute("step","any"))):(a.hasAttribute("size")||a.hasAttribute("w:attr:size")||((e=l+"$size")in b?a.setAttribute("w:attr:size",e):c&&a.setAttribute("size",c)),!c||a.hasAttribute("maxlength")||a.hasAttribute("w:attr:maxlength")||a.setAttribute("maxlength",c),(e=l+"$pattern")in b&&!a.hasAttribute("pattern")&&!a.hasAttribute("w:attr:pattern")&&a.setAttribute("w:attr:pattern",
e)),d&&(e=l+"$check")in b&&!a.hasAttribute("oninput")&&!a.hasAttribute("w:on:oninput")&&a.setAttribute("w:on:oninput",e+"{}"),a.hasAttribute("w:warning")||a.setAttribute("w:warning",l+"$warning"))}else"radio"!=a.getAttribute("type")&&("html"==g?(a.classList.contains("whtml")||a.classList.add("whtml"),a.hasAttribute("w:html")||a.hasAttribute("w:text")||a.setAttribute("w:html",e)):"text"==g&&(a.classList.contains("wtext")||a.classList.add("wtext"),a.hasAttribute("w:html")||a.hasAttribute("w:text")||
a.setAttribute("w:text",e)));return h};k.w$named=function(a,b,c){var d=a.nodeName,e;c=-1!=(e=c.indexOf("{"))?c.substring(0,e):c;b=k.w$name(a,b,c);"INPUT"==d&&"button"!=a.type&&"submit"!=a.type&&(a.hasAttribute("oninput")||a.hasAttribute("w:on:oninput")||a.setAttribute("w:on:oninput:action","{}"));return b};return k}();function w$for(a,b){if(a instanceof HTMLElement){var c=a,d;for(a=void 0;c&&(!(d=c.$w)||!(a=d.$for));c=c.parentElement);}c=WEAVEWORLD.w$for(a);d=WEAVEWORLD.w$for(b);return c>=d}
function w$form(a){var b={},c=function(a,b,d){var f,e;-1!=(f=b.indexOf("."))?("object"!=typeof(e=a[b.substring(0,f)])&&(a[b.substring(0,f)]=e={}),c(e,b.substring(f+1),d)):"undefined"!=typeof d?a[b]=d:"undefined"==typeof a[b]&&(a[b]=null)};if(a&&"FORM"==a.nodeName){for(var d=a.elements,f=a.getAttribute("w:submit"),h=0;h<d.length;h++){var g=d.item(h);"radio"!=g.type&&"checkbox"!=g.type||g.checked?null!=f&&"submit"==g.type&&g.name&&g.name!=f||g.name&&c(b,g.name,g.value):g.name&&c(b,g.name,void 0)}w$queryAll("div[contenteditable='true']",
a,function(a){var d;if(d=a.getAttribute("name"))a=WEAVEWORLD.w$normalizeHTML(a).innerHTML,c(b,d,a)})}return b}function w$submit(a){var b=a.target,c=w$form(b);null===w$on(a,"submit",b,c)&&(console.log("DIRECT SUBMIT:",c,b),w$call(c));return w$no(a)}function _____WEAVE_____(){}function w$find$(a){for(;a&&!(a.$w&&"$"in a.$w);a=a.parentElement);return a}function w$find$$(a){for(;a&&(!a.$w||!a.$w.$$);a=a.parentElement);return a}
function w$find$$index(a){a=w$find$(a);var b=a.$w.$,c;if(!(c=w$find$$(a)))return null;var d=c.$w.$$;return{$$:d,$:b,el:a,e:c,index:d.indexOf(b)}}function w$findName(a){for(;a;a=a.$w&&a.$w.parent||a.parentElement){var b;if(null!=(b=w$attribute(a,"w:name"))||null!=(b=w$attribute(a,"name")))return void 0==b.indexOf("{")!=-1&&(b=b.substring(0,void 0).trim()),b}return null}function w$data(a,b,c){if(b)return a=w$find(a,b,c),a.$w?a.$w.$:void 0;var d;return(d=w$find$(a))&&(d=d.$w)&&"$"in d?d.$:void 0}
function w$list(a,b,c){if(b)return a=w$find(a,b,c),a.$w?a.$w.$$:void 0;var d;return(d=w$find$$(a))&&(d=d.$w)&&"$$"in d?d.$$:void 0}function w$findRule(a,b){for(;a;a=a.parentElement){var c=a.classList;if(c)for(var d=0;d<c.length;++d){var f;if((f=WEAVEWORLD.w$type[c[d]])&&b in f)return f[b]}}}
function w$use(a,b,c,d){var f=WEAVEWORLD.w$defined[a];if(!f)throw new ReferenceError("w:define `"+a+"` was not found");a=f.cloneNode(!1);a.removeAttribute("w:define");c?c.insertBefore(a,d):d&&((a.$w||(a.$w={})).parent=d);WEAVEWORLD.w$apply(a,b,f);return a}function w$merge(a,b){a instanceof HTMLElement&&(a=w$data(a));if(b&&"object"==typeof b){var c,d;for(d in b)(c=b[d])&&"object"==typeof c&&!w$isArray(c)?w$merge(a[d],c):a[d]=c}return a}
function w$weave(a,b,c){var d,f="object"==typeof c&&c&&!w$isArray(c);b.startsWith("~")?b=b.substring(1):w$warning(a);switch(b){case "[":case "]":c&&(a=w$find$$(a))&&("["==b?a.$w.$$.unshift(c):a.$w.$$.push(c),f&&w$warning(a,c),w$refresh("now",a));break;case "<":case ">":!(d=w$find$$index(a))||">"!=b&&-1==d.index||(d.$$.splice("<"==b?d.index:d.index+1,0,c),f&&w$warning(d.e,c),w$refresh("now",d.e));break;case "-":(d=w$find$$index(a))&&-1!=d.index&&(d.$$.splice(d.index,1),f&&w$warning(d.e,c),w$refresh("now",
d.e));break;case "#":if(a=w$find$$(a))w$isArray(c)||(c=w$proxy([])),Array.prototype.splice.apply(a.$w.$$,[0,a.$w.$$.length].concat(c)),f&&w$warning(a,c),w$refresh("now",a);break;case ".":(d=w$find$$index(a))&&-1!=d.index&&(d.$$[d.index]=c,d.el.$w.$=c,f&&w$warning(d.el,c),w$refresh("now",d.el));break;case "=":if(a=w$find$(a))a.$w.$=c,f&&w$warning(a,c),w$refresh("now",a);break;case "?":(a=w$find$(a))&&f&&w$warning(a,c);break;default:if(a=w$find$(a))"object"==typeof c&&(w$merge(a.$w.$,c),c=a.$w.$),f&&
w$warning(a,c),w$refresh("now",a)}return a}
w$refresh=function(a,b,c){cancelAnimationFrame(WEAVEWORLD.w$proxy$AnimationFrame);WEAVEWORLD.w$proxy$AnimationFrame=null;var d;if(d="now"==a)a=b,b=c;if("number"==typeof a){if(performance.now()<WEAVEWORLD.w$proxy$when){WEAVEWORLD.w$proxy$AnimationFrame=requestAnimationFrame(w$refresh);return}}else if(a){if(a instanceof HTMLElement){WEAVEWORLD.w$proxy$sets.add(a);var f;if(b&&a.$w&&(f=a.$w.$))for(var h in b)f[h]=b[h]}else a instanceof Set&&a.forEach(function(a,b,c){a.parentElement&&WEAVEWORLD.w$proxy$sets.add(a)});
if(!d){WEAVEWORLD.w$proxy$when=performance.now()+10;WEAVEWORLD.w$proxy$AnimationFrame=requestAnimationFrame(w$refresh);return}}a=WEAVEWORLD.w$proxy$sets;a.size&&(a.forEach(function(b,c,d){if(c=b.parentElement){for(;c;c=c.parentElement)if(a.has(c)||WEAVEWORLD.w$proxy$paused.has(c))return;if(c=w$find$(b))LOG&&console.log("--------\x3e",b,c.$w.$),WEAVEWORLD.w$apply(b,c.$w.$,null,-1)}}),WEAVEWORLD.w$proxy$sets.clear())};
w$proxyHandler=function(a){this.$w$={};this.setPrototypeOf=function(a,c){if(!c||!a||"object"!=typeof a||Array.isArray(a)||Object.getPrototypeOf(a)===c||c.isPrototypeOf(a))return a;var b=this.$w$prototype||(this.$w$prototype=[]);b.includes(c)||b.push(c);return!0};this.has=function(a,c){if(c in a)return!0;if(this.$w$prototype)for(var b=0;b<this.$w$prototype.length;++b)if(c in this.$w$prototype[b])return!0;return!1};this.get=function(a,c){if("$w$proxy"==c)return this.$w$proxy;if("$w$object"==c)return a;
if("$w$"==c)return this.$w$;if("$w$isArray"==c)return Array.isArray(a);!WEAVEWORLD.weave$current||c in a&&!a.hasOwnProperty(c)||(this.$w$[c]||(this.$w$[c]=new Set)).add(WEAVEWORLD.weave$currentAttr?new WAttributeReference(WEAVEWORLD.weave$current,WEAVEWORLD.weave$currentAttr):WEAVEWORLD.weave$current);for(var b,f=a;f&&!(b=Object.getOwnPropertyDescriptor(f,c));f=Object.getPrototypeOf(f));if(b)var h=b.get?b.get.call(this.$w$proxy):b.value;else{if(this.$w$prototype)for(var g=0;g<this.$w$prototype.length;++g)for(f=
this.$w$prototype[g];f;f=Object.getPrototypeOf(f))if(b=Object.getOwnPropertyDescriptor(f,c)){h=b.get?b.get.call(this.$w$proxy):b.value;break}b||(h=a[c])}return null===h||"object"!=typeof h||h.$w$proxy?h:a[c]=w$proxy(h)};this.set=function(a,c,d){var b;this.$w$&&(b=this.$w$[c])&&b.size&&(delete this.$w$[c],w$refresh(b));LOG&&console.log("SET:"+c+"=",d,b);var h;for(b=a;b&&!(h=Object.getOwnPropertyDescriptor(b,c));b=Object.getPrototypeOf(b));h&&h.set?h.set.call(this.$w$proxy,w$proxy(d)):a[c]=w$proxy(d);
return!0}};function w$proxy(a){if(null===a||"object"!=typeof a||a.$w$proxy||"undefined"==typeof Proxy)return a;var b=new w$proxyHandler(a);a=new Proxy(a,b);return b.$w$proxy=a}
function w$say(a){var b;if(!a||-1==(b=a.indexOf("§")))return a;for(var c="";-1!=b&&-1!=(j=a.indexOf("§",b+1));){var d=a.substring(b+1,j),f,h,g=d;-1!=(f=d.indexOf(":"))&&(g=d.substring(f+1),d=d.substring(0,f));"undefined"!=typeof W$DICTIONARY&&null!=(h=W$DICTIONARY[d])?g=h:console.log("SAY:"+d+":");c+=a.substring(0,b)+g;b=(a=a.substring(j+1)).indexOf("§")}return c+a}
function w$define(a,b){var c;if(w$isArray(a))for(c=0;c<a.length;++c)w$define(a[c]);else{if("string"==typeof a&&"undefined"==typeof b)return WEAVEWORLD.w$type[a];"string"==typeof a&&(c=a,a=b);if("object"!=typeof a)throw Error("Invalid w$define arguments.",arguments);if("undefined"==typeof c&&(c=a.$name,"string"!=typeof c))throw Error("Invalid w$define arguments: no name.",arguments);var d=WEAVEWORLD.w$type[c];if("string"==typeof a.$type){if(d)throw Error("Invalid w$define redefinition: base $type defined, too.",
arguments);if(!(d=WEAVEWORLD.w$type[a.$type]))throw Error("w$define base $type was not found.",arguments);}d&&Object.setPrototypeOf(a,d);WEAVEWORLD.w$type[c]=a}}
document.addEventListener("DOMContentLoaded",function(){function a(a,b){W$DATA=w$proxy(a);"function"==typeof b&&b.call(this,W$DATA);WEAVEWORLD.w$apply(document.body,W$DATA,null,!0);if("object"==typeof W$ONLOAD&&Array.isArray(W$ONLOAD))for(var c=0;c<W$ONLOAD.length;++c)W$ONLOAD[c].call(WEAVEWORLD);"function"==typeof W$SYNC&&W$SYNC()}WEAVEWORLD.w$defined={};var b="",c="",d;document.body.$w={w$:new WElement(document.body,WEAVEWORLD.w$defined,w$say,function(a){a.startsWith(d="!w:css!")?b+="\n"+a.substring(d.length):
a.startsWith(d="!w:script!")&&(c+="\n"+a.substring(d.length))})};b&&document.head.appendChild(w$element("style",{name:"!w:css","w:text":b+"\n"}));c&&document.head.appendChild(w$element("script",{name:"!w:script","w:text":c+"\n"}));for(var f in WEAVEWORLD.w$type){var h=WEAVEWORLD.w$type[f],g;for(g in h)g.startsWith("$css$")&&WEAVEWORLD.css((f?"."+f:"")+h[g])}"undefined"!=typeof W$DATA?a(W$DATA,"undefined"!=typeof W$START?W$START:null):"undefined"==typeof W$START?document.body.classList.remove("w"):
("string"==typeof W$START&&(f={},f[W$START]="",W$START=f),null!=W$START&&"object"==typeof W$START?w$call(w$getParameters(W$START),function(b){a(b)}):a(w$getParameters({}),W$START))});Object.defineProperty(this,"W$TYPE",{get:function(){return WEAVEWORLD.w$type},set:function(a){w$define(a)}});W$SYNC=W$START=W$DATA=void 0;W$ONLOAD=[];