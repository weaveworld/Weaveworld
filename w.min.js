var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};
$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var c=0;c<a.length;++c){var b=a[c];if(b&&b.Math==Math)return b}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},c={};try{return c.__proto__=a,c.a}catch(b){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,c){a.__proto__=c;if(a.__proto__!==c)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.polyfill("Object.setPrototypeOf",function(a){return a||$jscomp.setPrototypeOf},"es6","es5");
$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,b){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=c.length,f=a.length;b=Math.max(0,Math.min(b|0,c.length));for(var g=0;g<f&&b<e;)if(c[b++]!=a[g++])return!1;return g>=f}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,b){var c=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===b&&(b=c.length);b=Math.max(0,Math.min(b|0,c.length));for(var e=a.length;0<e&&0<b;)if(c[--b]!=a[--e])return!1;return 0>=e}},"es6","es3");$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(a,c){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function a(b){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(b||"")+"_"+c++,b)}var c=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,d={next:function(){if(b<a.length){var e=b++;return{value:c(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,b){var c=this;c instanceof String&&(c=String(c));var e=c.length;b=b||0;for(0>b&&(b=Math.max(b+e,0));b<e;b++){var f=c[b];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},c=Object.create(new $jscomp.global.Proxy(a,{get:function(b,d,e){return b==a&&"q"==d&&e==c}}));return!0===c.q}catch(b){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.makeIterator=function(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};$jscomp.owns=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};
$jscomp.polyfill("WeakMap",function(a){function c(){if(!a||!Object.seal)return!1;try{var c=Object.seal({}),b=Object.seal({}),h=new a([[c,2],[b,3]]);if(2!=h.get(c)||3!=h.get(b))return!1;h.delete(c);h.set(b,4);return!h.has(c)&&4==h.get(b)}catch(m){return!1}}function b(){}function d(a){var c=typeof a;return"object"===c&&null!==a||"function"===c}function e(a){if(!$jscomp.owns(a,g)){var c=new b;$jscomp.defineProperty(a,g,{value:c})}}function f(a){var c=Object[a];c&&(Object[a]=function(a){if(a instanceof
b)return a;e(a);return c(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(c())return a;var g="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var k=0,l=function(a){this.id_=(k+=Math.random()+1).toString();if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}};l.prototype.set=function(a,c){if(!d(a))throw Error("Invalid WeakMap key");e(a);if(!$jscomp.owns(a,g))throw Error("WeakMap key fail: "+
a);a[g][this.id_]=c;return this};l.prototype.get=function(a){return d(a)&&$jscomp.owns(a,g)?a[g][this.id_]:void 0};l.prototype.has=function(a){return d(a)&&$jscomp.owns(a,g)&&$jscomp.owns(a[g],this.id_)};l.prototype.delete=function(a){return d(a)&&$jscomp.owns(a,g)&&$jscomp.owns(a[g],this.id_)?delete a[g][this.id_]:!1};return l},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function c(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),b=new a($jscomp.makeIterator([[c,"s"]]));if("s"!=b.get(c)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;var d=b.entries(),h=d.next();if(h.done||h.value[0]!=c||"s"!=h.value[1])return!1;h=d.next();return h.done||4!=h.value[0].x||"t"!=h.value[1]||!d.next().done?!1:!0}catch(m){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(c())return a;$jscomp.initSymbolIterator();var b=new WeakMap,d=function(a){this.data_={};this.head_=g();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}};d.prototype.set=function(a,c){a=0===a?0:a;var b=e(this,a);b.list||(b.list=this.data_[b.id]=[]);b.entry?b.entry.value=c:(b.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,
value:c},b.list.push(b.entry),this.head_.previous.next=b.entry,this.head_.previous=b.entry,this.size++);return this};d.prototype.delete=function(a){a=e(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};d.prototype.has=function(a){return!!e(this,a).entry};
d.prototype.get=function(a){return(a=e(this,a).entry)&&a.value};d.prototype.entries=function(){return f(this,function(a){return[a.key,a.value]})};d.prototype.keys=function(){return f(this,function(a){return a.key})};d.prototype.values=function(){return f(this,function(a){return a.value})};d.prototype.forEach=function(a,c){for(var b=this.entries(),h;!(h=b.next()).done;)h=h.value,a.call(c,h[1],h[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var e=function(a,c){var d=c&&typeof c;"object"==
d||"function"==d?b.has(c)?d=b.get(c):(d=""+ ++k,b.set(c,d)):d="p_"+c;var h=a.data_[d];if(h&&$jscomp.owns(a.data_,d))for(a=0;a<h.length;a++){var e=h[a];if(c!==c&&e.key!==e.key||c===e.key)return{id:d,list:h,index:a,entry:e}}return{id:d,list:h,index:-1,entry:void 0}},f=function(a,c){var b=a.head_;return $jscomp.iteratorPrototype(function(){if(b){for(;b.head!=a.head_;)b=b.previous;for(;b.next!=b.head;)return b=b.next,{done:!1,value:c(b)};b=null}return{done:!0,value:void 0}})},g=function(){var a={};return a.previous=
a.next=a.head=a},k=0;return d},"es6","es3");
$jscomp.polyfill("Set",function(a){function c(){if($jscomp.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),b=new a($jscomp.makeIterator([c]));if(!b.has(c)||1!=b.size||b.add(c)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;var f=b.entries(),g=f.next();if(g.done||g.value[0]!=c||g.value[1]!=c)return!1;g=f.next();return g.done||g.value[0]==c||4!=g.value[0].x||g.value[1]!=g.value[0]?!1:f.next().done}catch(k){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(c())return a;$jscomp.initSymbolIterator();var b=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)this.add(c.value)}this.size=this.map_.size};b.prototype.add=function(a){a=0===a?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};b.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};b.prototype.clear=function(){this.map_.clear();
this.size=0};b.prototype.has=function(a){return this.map_.has(a)};b.prototype.entries=function(){return this.map_.entries()};b.prototype.values=function(){return this.map_.values()};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var b=this;this.map_.forEach(function(d){return a.call(c,d,d,b)})};return b},"es6","es3");W$LICENSE="Weaveworld Public License v1.0, Copyright(c)2018-2019, Csaba Veg, All rights reserved.\nPermission to USE and/or REDISTRIBUTE this software in UNMODIFIED forms, in source and/or binary distributions, for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.";
String.prototype.startsWith||(String.prototype.startsWith=function(a,c){c=c||0;var b=a.length;if(c+b>this.length)return!1;for(var d=0;d<b;++d,++c)if(a.charAt(d)!=this.charAt(c))return!1;return!0});String.prototype.endsWith||(String.prototype.endsWith=function(a,c){c=c||this.length;var b=a.length;if(c<b)return!1;for(;0<=--b;)if(--c,a.charAt(b)!=this.charAt(c))return!1;return!0});
String.prototype.replaceAll||(String.prototype.replaceAll=function(a,c){for(var b=this.toString(),d=0;-1!=(i=b.indexOf(a,d));d=i+1)b=b.substring(0,i)+c+b.substring(i+1);return b});Array.prototype.forEach||(Array.prototype.forEach=function(a,c){for(var b=0,d=this.length;b<d;++b)a.call(c,this[b],b,this)});function w$derive(a,c){a.prototype&&a.prototype.isPrototypeOf(c)||Object.setPrototypeOf(c,a);return c}function w$delete(a,c){var b;return w$isArray(a)&&-1!=(b=a.indexOf(c))?a.splice(b,1)[0]:c}
function w$setField(a,c,b){var d,e,f;-1!=(d=c.indexOf("."))?("object"!=typeof(e=a[f=c.substring(0,d)])&&(a[f]=e={}),w$setField(e,c.substring(d+1),b)):a[c]="undefined"!=typeof b?b:null;return a}
function w$assign(a,c,b,d){var e,f=!1;if(null==c||"object"!=typeof c)return c;"boolean"==typeof b&&(f=b,b=d);if(b)for("string"==typeof b&&(b=b.split(",")),d=0;d<b.length;++d){var g=b[d],k=g;-1!=(e=g.indexOf(":"))&&(k=g.substring(0,e),g=g.substring(e+1));e=c[g];if(f?null!=e:"undefined"!=typeof e)a[k]=e}else for(b=Object.getOwnPropertyNames(c),d=0,k=b.length;d<k;++d)g=b[d],e=c[g],(f?null!=e:"undefined"!=typeof e)?w$setField(a,g,e):delete a[g];return a}
function w$is(a,c){a=a&&("undefined"==typeof a.length||0<a.length);return 1===c?a?1:0:"string"==typeof c?a?c:null:a?!0:!1}function w$toggle(a,c){"0"===a?a=0:"1"===a?a=1:"true"===a?a=!0:"false"===a?a=!1:"string"==typeof a&&a===c&&(a=!0);return w$is(!a,c)}function w$isElements(a){return a&&(a instanceof HTMLCollection||Array.isArray(a))}function w$oneOrMore(a,c){return null===c?0==a:a<c}function w$isArray(a){return"object"==typeof a&&a&&(Array.isArray(a)||a.$w$isArray)}
function w$query(a,c,b){var d=c||document,e=!1;if(a)if("object"==typeof a){e=w$isElements(a);var f=a}else{if(-1!=a.indexOf(";")){var g=a.split(";");f=[];e=!0}if(b||w$isElements(d))f=[],e=!0;for(var k=Array.isArray(g)?g.length:null,l=0;w$oneOrMore(l,k);++l){null!==k&&(a=g[l]);var p=!1;a.startsWith(" ")?a=a.substring(1):a.startsWith("#")?p=!0:a.startsWith("=")&&(a="*[name='"+a.substring(1)+"']");for(var r=d instanceof HTMLCollection||Array.isArray(d)?m.length:"1",h=-1;++h<r;){var m="number"==typeof r?
d[h]:d;if(0==a.indexOf(">")){var u=function F(a,c,h){var d=a.indexOf(">"),m=(-1!=d?a.substring(0,d):a).split("."),e=0;a:for(;e<c.children.length;++e){var p=c.children[e];if(!m[0]||"*"==m[0]||m[0].toUpperCase()==p.nodeName){for(var r=1;r<m.length;++r)if(!p.classList.contains(m[r]))continue a;if(-1!=d)return F(a.substring(d+1),p,h);Array.isArray(h)&&h.push(p);if(!b)return p}}return null}(a.substring(1),c,f);u&&!e&&(f=u)}else if(p)u=document.getElementById(a.substring(1)),e?f.push(u):f=u;else if(e){u=
m.querySelectorAll(a);for(var A=0;A<u.length;++A)f.push(u[A])}else f=m.querySelector(a)}if(!e)break}}else f=d;b?w$isElements(f)||(f=f?[f]:[]):w$isElements(f)&&(f=f.length?f[0]:null);if("function"==typeof b)for(A=0;A<f.length;++A)b(f[A]);return f}function w$queryAll(a,c,b){return w$query(a,c,b||!0)}
function w$show(a,c){c==WEAVEWORLD.W$TOGGLE&&(c=!w$show(a));if("undefined"==typeof c)return"none"!=window.getComputedStyle(a).display;if(c)return"none"==window.getComputedStyle(a).display&&(a.style.display=a.$w&&a.$w.$styleDisplay?a.$w.$styleDisplay:/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i.test(a.nodeName)?"block":"inline"),!0;var b;(a.$w||(a.$w={})).$styleDisplay||"none"==
(b=window.getComputedStyle(a).display)||(a.$w.$styleDisplay=b);a.style.display="none";return!1}function w$attribute(a,c){var b=a.getAttribute(c);return null!=b?b:a.hasAttribute(c)?"":null}function w$hasParent(a,c){c||(c=document.body);for(;a;a=a.parentElement)if(a===c)return!0;return!1}
function w$element(a,c,b){if("string"==typeof a){if(!a||"#text"==a)return document.createTextNode(c);a=document.createElement(a)}var d=a,e=w$isElements(a)?a.length:null;if("string"==typeof c)for(var f=0;null===e?0==f:f<e;++f){var g=c,k;null!==e&&(a=d[i]);if("w:text"==g||"$"==g)a.textContent=b||"";else if("w:html"==g||"$$"==g)a.innerHTML=b||"";else if("w:add"==g||"$$$"==g)if(Array.isArray(b))for(g=0;g<b.length;++g)a.appendChild(b[i]);else a.appendChild(b);else if(g.startsWith(k="w:set:"))a[g.substring(k.length)]=
b;else if(g.startsWith(k="w:data:"))g="data-"+g.substring(k.length),null!=b?a.setAttribute(g,b):a.removeAttribute(g);else if(g.startsWith(k="w:style:"))g=g.substring(k.length),null!=b?a.style[g]=b:a.removeStyle(g);else if("w:show"==g)w$show(a,"undefined"!=typeof b?b:null);else{if(g.startsWith(k="w:attr:"))g=g.substring(k.length);else if(g.startsWith("@")||g.startsWith("$"))g=g.substring(1);null!=b?a.setAttribute(g,b):a.removeAttribute(g)}}else if("object"==typeof c)for(f=0;null===e?0==f:f<e;++f)for(g in null!==
e&&(a=d[f]),c)w$element(a,g,c[g]);return a}function w$defineElement(a,c,b){if(c){var d=c,e,f={};w$isArray(c)||(d=c.replace(/;;/g,"\n").split("\n"));for(c=0;c<d.length;++c)if((e=d[c].trim())&&"#"!=e.charAt(0)){var g=e,k=e,l;-1!=(l=e.indexOf("="))&&(g=e.substring(0,l),k=e.substring(l+1));f[g]=k;"@"==g.charAt(0)?"object"==typeof a&&a&&w$element(a,g.substring(1),k):g.startsWith(".@")||g.startsWith("..@")||b&&b(a,g,k)}return f}}
function w$defineSelect(a,c,b){var d=w$defineElement(null,c);a.innerHTML="";w$defineElement(a,c,function(c,f,g){c=f+".@";g=a.appendChild(w$element("option",{"w:set:value":f,"w:text":g}));b==f&&(g.selected=!0);for(var e in d)e.startsWith(c)&&w$element(g,e.substr(c.length),d[e])});return a}function w$radioClick(a){var c=a.target;"INPUT"==c.nodeName&&"radio"==c.type||w$queryAll("input[type='radio']",c.parentElement,function(a){a.click()});a.stopPropagation();return a.cancelBubble=!0}
function w$defineRadio(a,c,b,d){var e=w$defineElement(null,b);a.innerHTML="";w$defineElement(a,b,function(b,g,k){b=g+".@";var f=a.appendChild(w$element("span",{$class:"wradio",style:"white-space:nowrap;",onclick:"return w$radioClick(event,this)"})),p=f.appendChild(w$element("input",{type:"radio",name:c,value:g}));d==g&&(p.checked=!0);f.appendChild(w$element("span",{"w:text":k}));for(var r in e)r.startsWith(b)&&w$element(f,r.substr(b.length),e[r])});return a}
function w$removeElement(a){return a&&a.parentElement?(a.parentElement.removeChild(a),a.parentElement=null,!0):!1}function w$hasWarning(a){if(a)for(var c=Object.getOwnPropertyNames(a),b=0;b<c.length;++b){var d=c[b];if((d.startsWith("_w_")||"_w"==d||d.endsWith("$warning"))&&a[d])return!0}return!1}
function w$warning(a,c){a instanceof HTMLElement&&(a=w$data(a));if(a){if(c){var b=Object.getOwnPropertyNames(c);for(var d=!1,e=0;e<b.length;++e){g=b[e];var f;if(g.startsWith(f="_w_")||g==(f="_w"))d=(d=c[g])?w$say(d,d):void 0,a[g.substring(f.length)+"$warning"]=d,d=!0;else if(g.startsWith(f="_m_")||g==(f="_m"))d=(d=c[g])?w$say(d,d):void 0,a[g.substring(f.length)+"$message"]=d,d=!0}return d}Object.getOwnPropertyNames(a);for(var g in a)if(g.endsWith("$warning")||g.endsWith("$message"))a.$w$proxy&&null==
a[g]||(a[g]=void 0)}}function w$check(a,c){if(a){a instanceof Event&&(a=a.target);var b,d,e,f;a.checkValidity&&a.checkValidity();if((b=a.getAttribute("name"))&&(d=w$parent$(a))&&(e=w$data(d))){var g;"undefined"==typeof c&&(c=w$get(a));if("undefined"!=typeof c){var k=b+"$warning";"function"==typeof(g=e[b+"$check"])?f=g.call(e,a,d,c):"function"==typeof(g=e[b+"$valid"])&&(f=g.call(e,c));e.$w$proxy&&e[k]==f||(e[k]=f||void 0)}}return f}}
function w$checkArg(a,c,b,d){var e=a,f;if(!b)return null;a instanceof Event&&(a=a.target);a instanceof HTMLElement&&(e=w$data(a));if(!d&&a instanceof HTMLElement&&"function"==typeof(f=e[(c||"")+"$check"]))a=f.call(e,a,b);else if(d||"function"!=typeof(f=e[(c||"")+"$valid"])){d=Object.getOwnPropertyNames(b);a={};for(var g=0;g<d.length;++g){var k=d[g];if(c&&"function"==typeof(f=e[c+"$"+k+"$valid"])){var l=f.call(e,b[k]);a["_w_"+k]=l||void 0}else"function"==typeof(f=e[k+"$valid"])&&(l=f.call(e,b[k]),
a["_w_"+k]=l||void 0)}}else a=f.call(e,b);return"string"==typeof a?a?{_w:a}:null:"object"!=typeof a||0===Object.keys(a).length&&a.constructor===Object?null:a}function w$hasAncestor(a,c){for(;a&&a!=document;a=a.parentElement)if(a==c)return!0;return!1}
function w$parent(a,c,b){"string"==typeof a&&(a=w$query(a));var d;if(!c)throw Error("Missing description parameter!");if("string"==typeof c)if(-1==(d=c.lastIndexOf("."))){var e=c;c=null}else e=c.substring(0,d),c=c.substring(d+1);a&&b&&(a=a.parentElement);for(;a&&a!=document;a=a.parentElement)if(b=a.classList,(!e||e==a.nodeName)&&b&&b.length)if("string"==typeof c){if(b.contains(c))return a}else for(d=0;d<c.length;++d)if(b.contains(c[d]))return a;return null}
function w$child(a,c,b,d){function e(a,c,h,b,d,g){var m;if(!a)return null;if(1<c){--c;for(a=h?a.firstElementChild:a.lastElementChild;a;a=h?a.nextElementSibling:a.previousElementSibling)if(m=e(a,c,h,b,d))if(g)g.push(m);else return m;if(g&&g.length)return g}else if(1==c){c=a.classList;if(b&&b!=a.nodeName)return null;if(c&&c.length)if("string"==typeof d){if(c.contains(d))return a}else for(b=0;b<d.length;++b){if(c.contains(d[b]))return a}else return!d}return null}"string"==typeof a&&(a=w$query(a));if(!c)throw Error("Missing description parameter!");
if("string"==typeof c){var f;if(-1==(f=c.lastIndexOf("."))){var g=c;c=null}else g=c.substring(0,f),c=c.substring(f+1)}"]"==b?a=a.lastElementChild:">"==b?a=a.nextElementSibling:"<"==b?a=a.previousElementSibling:"["==b&&(a=a.firstElementChild);f=Array.isArray(d)?d:null;"number"!=typeof d&&(d=999);for(var k=0;++k<d;){var l;if(l=e(a,k,"["==b||">"==b,g,c,f))return l}return null}
function w$child$(a,c,b){function d(a,c,b){var e;if(1<b)for(--b,a=a.firstElementChild;a;a=a.nextElementSibling){if(e=d(a,c,b))return e}else if(1==b&&(a&&a.$w&&a.$w.$&&(a.$w.$===c||a.$w.$.$w$object===c)||a.$w&&a.$w.$$===c))return a;return null}"string"==typeof a&&(a=w$query(a));if(!a)return null;for(var e=0;999>++e;){var f;if(f=d(a,c,e))return b&&(f=w$child(f,b)),f}return null}
function w$selectAll(a,c){if(a instanceof HTMLElement){var b=window.getSelection();b.removeAllRanges();"INPUT"==a.nodeName?(a.focus(),a.setSelectionRange(0,a.value.length)):(c=document.createRange(),c.selectNodeContents(a),b.addRange(c))}else if(a instanceof Event){var d=a.target,e=document.activeElement==d||(b=window.getSelection())&&b.baseNode==d;e||"DIV"!=d.nodeName||"true"==d.getAttribute("contenteditable")||(e=!0);if(!e&&(w$selectAll(d),!c))return w$no(a)}}
function w$getParameters(a,c){null==c&&(c=window.location.search);a||(a={});c.startsWith("?")&&(c=c.substring(1));if(c){c=c.split("&");for(var b=[],d=0;d<c.length;++d){var e=c[d].split("="),f=decodeURIComponent(e[0]),g;e=null==e[1]?null:decodeURIComponent(e[1]);b.includes(f)?w$isArray(g=a[f])?g.push(e):a[f]=[g,e]:a[f]=e;b.push(f)}}return a}
function w$setParameters(a,c){null==c&&(c=window.location.href);var b,d="";-1!=(b=c.indexOf("?"))&&(d=c.substring(b),c=c.substring(0,b));a=w$assign(w$getParameters({},d),a);b="";var e="?",f;for(f in a){var g=a[f];"undefined"!=typeof g&&(b+=e+f,null!=g&&(b+="="+encodeURIComponent(a[f])),e="&")}-1!=d.indexOf("?")&&-1==b.indexOf("?")&&(b="?");return c+b}function w$setCookie(a,c,b){b=b?"; expires="+(new Date(Date.now()+864E5*b)).toGMTString():"; expires=0";document.cookie=a+"="+c+b+"; path=/"}
function w$getCookie(a,c){a+="=";for(var b=document.cookie.split(";"),d=0;d<b.length;++d){for(var e=b[d];e.startsWith(" ");)e=e.substring(1);if(e.startsWith(a))return e.substring(a.length)}return c}
function w$get(a,c){"string"==typeof a&&(a=w$query(id,c));if(a){if("FORM"==a.nodeName){c={};for(var b=0;b<a.elements.length;++b){var d=a.elements[b],e;"BUTTON"!=item.nodeName&&"submit"!=item.type&&"button"!=item.type&&"reset"!=item.type&&("INPUT"!=d.nodeName&&"SELECT"!=d.nodeName&&"DATALIST"!=d.nodeName&&"TEXTAREA"!=d.nodeName||"undefined"==typeof(e=w$get(d))||(c[d.name]=e))}return c}if("INPUT"==a.nodeName){if("checkbox"==a.type||"radio"==a.type){if(a.checked)return a.value;return}return a.value}if("SELECT"==
a.nodeName||"DATALIST"==a.nodeName){c=void 0;e="";for(b=0;b<a.length;++b)a.options[b].selected&&(c=(c||"")+e+a.options[b].value,e=",");return c}return"TEXTAREA"==a.nodeName?a.value:"DIV"==a.nodeName?"radio"==a.getAttribute("type")?(d=w$query("input[type=radio]:checked",a))?d.value:null:a.hasAttribute("w:text")?a.textContent:WEAVEWORLD.w$normalizeHTML(a).innerHTML:a.innerHTML}return null}
function w$form(a){var c={};if(a&&"FORM"==a.nodeName){for(var b=a.elements,d=0;d<b.length;d++){var e=b.item(d);"submit"==e.type&&(nm=e.getAttribute("name"))||"BUTTON"!=e.nodeName&&"submit"!=e.type&&"button"!=e.type&&"reset"!=e.type&&("radio"!=e.type&&"checkbox"!=e.type||e.checked?e.name&&w$setField(c,e.name,e.value):e.name&&w$setField(c,e.name,void 0))}w$queryAll("div[contenteditable='true']",a,function(a){var b;if(b=a.getAttribute("name")){var d=!!a.getAttribute("w:text");WEAVEWORLD.w$normalizeHTML(a,
d,d);w$setField(c,b,d?a.textContent:a.innerHTML)}})}return c}
function ASync(){this.queue=[];this.locked=!1;this.exec=function(a,c,b){if("string"==typeof c){var d=this;this.exec(function(){d.locked=!0;var e=b||new Image;e.onload=function(){try{a&&a(e)}finally{d.locked=!1}};e.onerror=function(){d.locked=!1};e.src=c})}else this.queue.push(a),this.queueID||(this.queueID=requestAnimationFrame(this.sync.bind(this)))};this.sync=function(a){a=this.queue;if(a.length){if(!this.locked){a=a.shift();try{a()}catch(c){console.log("async exception:",c)}}this.queueID=requestAnimationFrame(this.sync.bind(this))}else this.queueID=
null}}function w$glass(a){if(a)(a=WEAVEWORLD.w$glass)?w$show(a,!0):document.body&&(WEAVEWORLD.w$glass=w$element("div","$class","wglass"),document.body.insertBefore(WEAVEWORLD.w$glass,document.body.firstElementChild)),setTimeout(function(){var a;(a=WEAVEWORLD.w$glass)&&a.setAttribute("disabled","")},2E3);else if(a=WEAVEWORLD.w$glass)w$removeElement(WEAVEWORLD.w$glass),WEAVEWORLD.w$glass=null;return WEAVEWORLD.w$glass}
function w$error(a){if(null!=a)(a=WEAVEWORLD.w$error)?w$show(a,!0):document.body&&(WEAVEWORLD.w$error=w$element("div",{"class":"werror"}),document.body.insertBefore(WEAVEWORLD.w$error,document.body.firstElementChild)),setTimeout(function(){var a;(a=WEAVEWORLD.w$error)&&a.setAttribute("disabled","")},2E3);else if(a=WEAVEWORLD.w$error)w$removeElement(WEAVEWORLD.w$error),WEAVEWORLD.w$error=null;return WEAVEWORLD.w$error}
function w$ajax(a){if("undefined"!=typeof XMLHttpRequest)var c=new XMLHttpRequest;else for(var b="MSXML2.XmlHttp.6.0 MSXML2.XmlHttp.5.0 MSXML2.XmlHttp.4.0 MSXML2.XmlHttp.3.0 MSXML2.XmlHttp.2.0 Microsoft.XmlHttp".split(" "),d=0;d<b.length;d++)try{c=new ActiveXObject(b[d]);break}catch(l){}a.async||w$glass(!0);c.onreadystatechange=function(){a.xhr=c;if(4==c.readyState){var b=c.status;200==b||304==b||400<=b&&500>b||!a.error?(b=c.responseText,a.async||w$glass(),(c.getResponseHeader("Content-Type")||"").startsWith("application/json")&&
(b=JSON.parse(b)),a.success&&a.success(b,a)):a.error&&a.error(c);a.loop&&!WEAVEWORLD["@end"]&&requestAnimationFrame(a.loop)}};a.withCredentials&&(c.withCredentials=!0);b=a.data||{};d=a.method||"GET";var e="";a.url||"undefined"==typeof window.cefQuery||(d="CEF");if("GET"==d||"POST"==d){var f="GET"==d?"?":"";for(var g in b){var k;"undefined"!=typeof(k=b[g])&&(e+=f+encodeURIComponent(g),f="&",null!=k&&(e+="="+encodeURIComponent(b[g])))}b=e;f="application/x-www-form-urlencoded; charset=UTF-8"}else"object"==
typeof b&&(b=JSON.stringify(b),f="application/json; charset=UTF-8");d.endsWith(".json")&&(d=d.substring(0,d.length-5));"GET"==d?(c.open("GET",(a.url||"")+e,"undefined"!=typeof a.async?a.async:!0),a.pragma&&c.setRequestHeader("Pragma",a.pragma),c.send()):"CEF"==d?window.cefQuery({request:"W$CALL:\n"+b,onSuccess:function(c){a.async||w$glass();c=c&&JSON.parse(c);a.success(c,a)},onFailure:function(a,c){}}):(c.open(d,a.url||"","undefined"!=typeof a.async?a.async:!0),a.pragma&&c.setRequestHeader("Pragma",
a.pragma),f&&c.setRequestHeader("Content-type",f),c.send(b))}
function W$CALL(){var a=0,c,b;"string"==typeof arguments[a]&&(c=arguments[a++]);if(null==arguments[a]||"object"==typeof arguments[a]&&!(arguments[a]instanceof HTMLElement)){var d=arguments[a++];"object"!=typeof arguments[a]||arguments[a]instanceof HTMLElement||(b=arguments[a++])}b||(b={});arguments[a]instanceof HTMLElement&&(b.w$element=arguments[a++],"string"==typeof arguments[a]&&(b.w$cmd=arguments[a++]),"object"==typeof arguments[a]&&arguments[a]&&(b.weave$data=arguments[a++]));"function"==typeof arguments[a]&&
(b[b.success?"callback":"success"]=arguments[a++]);b.success||(b.success=WEAVEWORLD.w$receive);"undefined"==typeof b.error&&(b.error=WEAVEWORLD.w$ajax$error);"undefined"==typeof b.pragma&&(b.pragma="W$CALL");b.method||(b.method="POST.json");b.url||(b.url=location.pathname);"string"==typeof c?(b.data={},-1!=(a=c.indexOf(":"))?(b.method=c.substring(0,a),b.url=c.substring(a+1)):b.data[c]="","object"==typeof d&&d&&w$assign(b.data,d)):"object"==typeof d&&d&&(b.data=d);!b.w$element||b.w$cmd&&b.w$cmd.startsWith("~")||
w$warning(b.w$element);(WEAVEWORLD.w$call||w$ajax)(b)}function w$sync(){w$ajax({method:"GET",url:location.pathname+".json",pragma:"W$CALL",data:{"!?":WEAVEWORLD["@time"],t:WEAVEWORLD["@time"]},async:!0,success:WEAVEWORLD.w$resync,loop:w$sync})}function w$menuOff(a,c){for(var b=WEAVEWORLD.menuStack,d=!0;b.length&&d&&((d=b[b.length-1]!=a)||c);)w$removeElement(b.pop())}
function w$menuShow(a,c,b,d,e,f,g,k){var l=void 0;"string"==typeof c&&(c=document.getElementById(c),c=c.cloneNode(!0),c.removeAttribute("id"));c.$w||(c.$w={});c.$w.parent=a;g&&(l=g(a,c,b,d,e,f));c.classList.remove("w");c.addEventListener("mouseover",function(){w$menuOff(c);c.setAttribute("w:off","");return!1},!0);WEAVEWORLD.menuStack.push(c);for(g=0;g<c.children.length;++g){var p=c.children[g];p.classList.contains("wmenuitem")&&(p.classList.remove("wmenuitem-selected"),p.onmouseover=function(b){var h=
b.target;w$no(b);for(b=0;b<c.children.length;++b){var d=c.children[b];d.classList.contains("wmenuitem")&&d!=h&&d.classList.remove("wmenuitem-selected")}h.classList.add("wmenuitem-selected");b=h.getBoundingClientRect();for(d=0;d<h.children.length;++d){var e=h.children[d];if(e.classList.contains("wmenu")){w$menuShow(a,e.cloneNode(!0),b.right-2,b.left,b.top,b.bottom,null,k);break}}},p.onclick=function(c){w$no(c);var b=c.currentTarget;if(b.classList.contains("disable"))return!1;for(var d=b.getBoundingClientRect(),
e=0;e<b.children.length;e++){var p=b.children[e];if(p.classList.contains("wmenu"))return w$menuShow(a,p.cloneNode(!0),d.right-5,d.left,d.top,d.bottom,null,k),!1}d={};var f;null!=(f=w$attribute(b,"w:checked"))&&(d[w$findName(b)||"value"]=f);w$menuOff();w$on(c,"menu",null,d)})}c.onmouseout=function(a){w$no(a);a=a.relatedTarget||document.activeElement;if(c.classList.contains("wmenuM"))return!1;for(;null!=a&&!a.classList.contains("wmenu");)a=a.parentElement;c.setAttribute("w:off",1);null!=a?w$menuOff(a):
setTimeout(function(){c.getAttribute("w:off")&&w$menuOff(c,!0)},1E3)};"undefined"==typeof l&&(c.style.position="absolute",c.style.display="inline-block",c.style.left=(b+=window.pageXOffset-7)+"px",c.style.top=(e+=window.pageYOffset-7)+"px",document.body.appendChild(c),b=document.body.getBoundingClientRect(),e=c.getBoundingClientRect(),e.right>b.right&&(c.style.left=Math.max(0,d-e.width+window.pageXOffset+7)+"px"),e.bottom>b.bottom&&(c.style.top=Math.max(0,f-e.height+window.pageYOffset+7)+"px"));return c}
function w$menu(a,c,b,d){if(a instanceof Event){var e=a;a=e.target;w$no(e);var f={left:e.clientX,right:e.clientX,top:e.clientY,bottom:e.clientY};c||(c=a.getAttribute("w:on:"+e.type+":menu")||a.getAttribute("w:menu"))}else f=a.getBoundingClientRect(),c||(c=a.getAttribute("w:menu"));"string"==typeof c&&(c.startsWith("#")?(c=w$query(c),c=c.cloneNode(!0),c.removeAttribute("id"),c.$w||(c.$w={}),c.$w.parent=a):(e=w$data(a),c=w$use(c,e||{},null,a)));w$menuShow(a,c,f.left,f.right,f.top,f.bottom,b,d)}
function w$no(a){a.preventDefault();a.stopPropagation();a.cancelBubble=!0;return!1}function w$default(a){a.stopPropagation();a.cancelBubble=!0;return!1}
function w$action(a,c,b,d){var e;null==d&&(d={});c&&c.target==a&&d&&a.name in d&&w$check(a,d[a.name]);for(;a;a=a.parentElement)if((e=a.$w)&&(e=e.$)){var f=a.classList;if(f)for(var g=0;g<f.length;++g){var k=f[g],l;if(k&&(t=WEAVEWORLD.w$type[k])&&("function"==typeof(l=t[b])||"function"==typeof(l=t.$action))){b=WEAVEWORLD.w$setPrototypeOf(d,e);g=l.call(e,a,c,b,d);f={};"object"!=typeof g&&"undefined"!=typeof g||w$assign(f,g||d);if(!0!==g)for(var p in e)if(console.log(p),7<p.length&&p.endsWith("$action")&&
"function"==typeof(l=e[p])){g=l.call(e,a,c,b,d);if(1==g)return;"object"==typeof g&&w$assign(f,g)}w$assign(e,f);return}}}}
function w$arg(){for(var a=0,c={},b=!0;a<arguments.length;++a){var d=arguments[a];if(null!=d)if("string"==typeof d)c[d]="";else if("object"!=typeof d||d instanceof HTMLElement)if("boolean"==typeof d)b=d;else break;else w$assign(c,d)}d=arguments[a];for(var e=w$data(d),f=arguments[a+1].split(","),g=0;g<f.length;++g){var k=f[g].trim(),l,p;b&&(p=k.startsWith(WEAVEWORLD.W$TOGGLE))&&(k=k.substring(WEAVEWORLD.W$TOGGLE.length));if(p){var r=!0;-1!=(l=k.indexOf(":"))&&(r=WEAVEWORLD.weave$evalMacro(d,e,k.substring(l+
1),!1),k=k.substring(0,l));var h=e[k];h=w$toggle(h,r)}else-1!=(l=k.indexOf(":"))?(h=WEAVEWORLD.weave$evalMacro(d,e,k.substring(l+1),!1),k=k.substring(0,l)):h=e[k];"undefined"!=typeof h&&(c[k]=h)}for(a+=2;a<arguments.length;++a)d=arguments[a],"object"==typeof d&&d&&w$assign(c,d);return c}
function w$on(a,c,b,d,e,f){function g(a){if(!a)return-1;var c=a.lastIndexOf("}}")+1,b=a.indexOf("{",c);a=a.indexOf("(",c);return-1!=b?-1!=a?Math.min(b,a):b:-1!=a?a:-1}function k(a,c,b){var h=g(c),d;if((c=-1!=h?c.substring(h):"")&&"{"==c.charAt(h)){if(h=w$data(a),-1!=c.indexOf("{{")&&(c="{"+WEAVEWORLD.weave$evalMacro(a,h,c.substring(1),!0)),"{}"!=c)try{var e=JSON.parse(c)}catch(K){console.log(K)}}else-1!=c.indexOf("(")&&(e=a&&"FORM"==a.nodeName?w$form(a.form||a):null,"()"!=c&&(c.endsWith(")")&&(c=
c.substring(0,c.length-1)),e=w$arg(!1,e,a,c.substring(1))));h=b;e&&(h=h?w$assign(h,e):e);h||(h={});if(b&&(null!=(d=w$attribute(a,"w:name"))||null!=(d=w$attribute(a,"w:named"))||null!=(d=w$attribute(a,"name")))&&d){var m;"DIV"==a.tagName?m=w$get(a):a.hasAttribute("w:checked")?m=a.getAttribute("w:checked"):m=a.value;"undefined"!=typeof m&&(h[d]=m)}return h}var l=b=b||a.target,p;c="string"==typeof e?e:"on"+c;LOG&&0!=c.indexOf("onmouse")&&0!=c.indexOf("onwheel")&&console.log(c);try{a:{e=[];var r=!1;for(var h=
b;h;h=!c.startsWith("on")&&h.$w&&h.$w.parent?h.$w.parent:h.parentElement){var m;null!=(m=w$attribute(h,"w:capture:"+c))&&e.push(h)}for(var u=e.length;0<=--u;){var A=e[u],H=w$attribute(A,"w:capture:"+c);for(h=A;h;h=!c.startsWith("on")&&h.$w&&h.$w.parent?h.$w.parent:h.parentElement){var B=h.classList;if(B)for(u=0;u<B.length;++u){var G=B[u];if(G&&(p=WEAVEWORLD.w$type[G])&&"function"==typeof p[H]){m=p;var q=w$data(h),F;q&&!w$isArray(q)&&(m=WEAVEWORLD.w$setPrototypeOf(q,p));if(F=p[H+"$arg"])d=w$arg(h,
F,d);var x=w$checkArg(h,H,d);x?(w$warning(h),w$warning(h,x),r=void 0):r=p[H].call(m,h,a,d);if(!1!==r)break a}}}}for(;b;b=!c.startsWith("on")&&b.$w&&b.$w.parent?b.$w.parent:b.parentElement)if(b.getAttribute){-1==c.indexOf("mouse")&&-1==c.indexOf("onkey")&&"onclick"!=c&&LOG&&console.log(c,b);if(m=b.getAttribute("w:on:"+c+":menu")){w$no(a);var v=k(b,m),n;-1!=(n=g(m))&&(m=m.substring(0,n));q=w$data(b);r=b.getBoundingClientRect();q&&(0===Object.keys(v).length?v=q:Object.setPrototypeOf(v,q));var I=w$use(m,
v,null,b);w$menuShow(b,I,r.left,r.right,r.top,r.bottom);return!0}if(b.hasAttribute(m="w:on:"+c+":data"))for(u in h=b,v=k(b,m=b.getAttribute(m)),h=0<(n=g(m))?w$parent(h,m.substring(0,n)):w$parent$(h),v){var w=v[u];u.startsWith(WEAVEWORLD.W$TOGGLE)&&(u=u.substring(WEAVEWORLD.W$TOGGLE.length),h.dataset&&(w=w$toggle(w$attribute(h,"data-"+u),w)));null!=w?h.setAttribute("data-"+u,w):h.removeAttribute("data-"+u)}if(null!=(m=w$attribute(b,"w:on:"+c+":set")))for(u in h=b,v=k(b,m,d||{}),0<(n=m.indexOf("("))&&
(h=w$parent(h,m.substring(0,n))),h=w$parent$(h),v)w=v[u],u.startsWith(WEAVEWORLD.W$TOGGLE)&&(u=u.substring(WEAVEWORLD.W$TOGGLE.length),h.$w.$&&(w=w$toggle(h.$w.$[u],w))),(h.$w||(h.$w={})).$[u]=w;if(null!=(m=w$attribute(b,"w:on:"+c+":action"))){h=b;v=k(b,m,{});0<(n=g(m))&&(h=w$parent(h,m.substring(0,n)));WEAVEWORLD.w$proxy$paused.add(b);var y=b.getAttribute("w:at")||"";y.startsWith("!")&&(y=y.substring(1));y="$at$"+y;w$action(h,a,y,v)}if(null!=(m=w$attribute(b,"w:on:"+c))){if(!m){r=void 0;break a}else if("default"==
m){r=!0;break a}-1!=(n=g(m))&&(d=k(b,m.substring(n),d||{}),m=m.substring(0,n));r=w$on(a,m,b,d,m,!0);if(!1!==r)break a}null!=(m=w$attribute(b,"w:on:"+c+":href"))&&(h=b,v=k(b,m,{}),0<=(n=g(m))&&(m=m.substring(0,n)),-1!=m.indexOf("{{")&&(m=WEAVEWORLD.weave$evalMacro(b,w$data(b),m)),window.open(w$setParameters(v,m),(p=h.getAttribute("target"))?p:"_self"));if(B=b.classList)for(u=0;u<B.length;++u)if((G=B[u])&&(p=WEAVEWORLD.w$type[G])&&"function"==typeof p[c]){m=p;(q=w$data(b))&&!w$isArray(q)&&(m=WEAVEWORLD.w$setPrototypeOf(q,
p));if(F=p[c+"$arg"])d=w$arg(b,F,d);(x=w$checkArg(b,c,d))?(w$warning(b),w$warning(b,x),r=void 0):r=p[c].call(m,b,a,d);if(!1!==r)break a}}}"undefined"==typeof r&&(p=WEAVEWORLD.w$type[""])&&"function"==typeof p[c]&&(m=p,(q=w$parent$(b))&&(q=q.$w)&&(q=q.$)&&!w$isArray(q)&&(m=WEAVEWORLD.w$setPrototypeOf(q,p)),r=p[c].call(m,document.body,a,d));if(!1!==r)return a&&(!0===r||"dragover"==a.type?(a.stopPropagation(),a.cancelBubble=!0):"undefined"==typeof r&&"dragstart"!=a.type&&w$no(a)),r;if(!c.startsWith("on")&&
!f){console.log("Can not find event handler for "+c,l);return}}catch(C){console.log("Event handling error during `"+c+"`",C)}return null}LOG=0;
function WElement(a,c,b,d){this.nodeName=a.nodeName;if(3==a.nodeType){var e=a.textContent,f=w$says(e);this.textContent=f;e!=f&&(a.textContent=f)}else if(1==a.nodeType){a.normalize();var g;a.$wf&&(this.$wf=a.$wf);if((g=a.attributes)&&g.length){this.attributes=[];for(var k=0;k<g.length;++k){var l=g[k];e=l.value;f=w$says(e);c&&"w:define"==l.name&&(c[f]=this);this.attributes.push({name:l.name,value:w$says(f)});e!=f&&a.setAttribute(l.name,f)}}if(a=a.firstChild)for(this.childNodes=[];e=a;)a=e.nextSibling,
1==e.nodeType||3==e.nodeType?(this.childNodes.push(new WElement(e,c,b,d)),"w:else"==e.nodeName&&w$removeElement(e)):8==e.nodeType&&d&&d(w$says(e.textContent))}}Object.defineProperty(WElement.prototype,"nodeType",{get:function(){return"#text"==this.nodeName?3:1}});WElement.prototype.getAttribute=function(a){var c;if(c=this.attributes)for(var b=0;b<c.length;++b)if(c[b].name==a)return c[b].value;return null};WElement.prototype.hasAttribute=function(a){return null!=this.getAttribute(a)};
WElement.prototype.cloneNode=function(a){if(3==this.nodeType)var c=document.createTextNode(this.textContent);else if(1==this.nodeType){c=document.createElement(this.nodeName);var b;this.$wf&&(c.$wf=this.$wf);if(b=this.attributes)try{for(var d=0;d<b.length;++d){var e=b[d];c.setAttribute(e.name,e.value)}}catch(f){console.log(f,this)}if(a&&(b=this.childNodes))try{for(d=0;d<b.length;++d)c.appendChild(b[d].cloneNode(!0))}catch(f){console.log(f,this)}}return c};
function WAttributeReference(a,c){this.parentElement=a;this.name=c}Object.defineProperty(WAttributeReference.prototype,"value",{get:function(){return this.parentElement.getAttribute(this.name)}});Object.defineProperty(WAttributeReference.prototype,"nodeType",{get:function(){return 2}});
WEAVEWORLD=function(){function a(a){return a&&("undefined"==typeof a.length||0<a.length)}function c(a,c,b){var h;if(0==b.length)return c;if("undefined"!=b){if("null"==b)return null;if("true"==b)return!0;if("false"==b)return!1;if('""'==b||"''"==b)return"";if("0"==b)return 0;if("1"==b)return 1;if(b.match("(^([a-zA-Z_$][a-zA-Z0-9_$]*){0,1}\\\\)|(^[@a-zA-Z_$][a-zA-Z0-9_$]*)")){if(-1!=(h=b.indexOf("\\")))if(0==h)c=document.body.$w.$;else{var d=b.substring(0,h);a:for(;null!=(a=a.$w&&a.$w.parent||a.parentElement);){if(a==
document.body){c=a.$w.$;break}if(a.$w&&("."==d||a.classList.contains(d))){c=a.$w.$;if(-1!=(d=b.indexOf("\\",h+1))){d=b.substring(h+1,d);b=b.substring(h+1);continue a}break}}}b=b.substring(h+1);if(!b)return c;if(-1==b.indexOf("."))return null!=c?c[b]:void 0;a=b.split(".");b=null!=c?c[a[0]]:void 0;for(h=1;h<a.length;++h)d=a[h],c=w$proxy(b),b=null!=c&&d in c?c[d]:void 0,null==b&&null!=c&&(b=c[d+"$default"],null==b&&-1!=d.indexOf(".")&&(b=c[d.replaceAll(".","$")+"$default"]));return b}return eval(b)}}
function b(b,d,h){for(var e=0,p,f=0;f<=h.length;++f){var g=h.charAt(f);if("|"==g||""==g){var k=g=p=void 0,r=b,q=d;e=h.substring(e,f);var l=0;if("!"==e.charAt(0))p=!a(c(r,q,e.substring(1)));else{for(var x=0;x<=e.length;++x){var v=e.charAt(x);if("="==v||"!"==v||""==v)k?(l=c(r,q,e.substring(l,x)),l="undefined"!=typeof l?g==l:"undefined"==typeof g,"="==k?p="undefined"==typeof p?l:p||l:"!"==k&&(p="undefined"==typeof p?!l:p&&!l)):g=c(r,q,e.substring(l,x)),l=x+1,k=v}p="undefined"!=typeof p?p:g}if(a(p))break;
e=f+1}}return p}function d(c,e,h){for(var m=0,p,f,g=0;g<=h.length;++g){var k=h.charAt(g);if("?"==k||":"==k||""==k){if(!p)f=b(c,e,h.substring(m,g));else if("?"==p){if(a(f))return b(c,e,h.substring(m,g));if(""!=k)return d(c,e,h.substring(g+1))}else if(":"==p){if(!a(f))return b(c,e,h.substring(m,g));if(""!=k)return d(c,e,h.substring(g+1))}m=g+1;p=k}}return f}function e(a,c,b){var h;if(!b)return c;try{if(b.startsWith("[")&&-1!=(h=b.indexOf("]"))){var p=e(a,c,b.substring(h+1));-1==(h=(b=b.substring(1,
h)).indexOf(" "))&&(h=b.length);var g=b.substring(0,h),f,r,l=a;for(;l;l=l.$w&&l.$w.parent||l.parentElement){var q=l.classList;if(q)for(var F=0;F<q.length;++F){var x=q[F];if(x&&(f=r=k.w$type[x])&&"function"==typeof r[g])return c&&"object"==typeof c&&!Array.isArray(c)&&(f=k.w$setPrototypeOf(c,r)),p=r[g].call(f,a,p,b.substring(h+1)),p=w$proxy(p)}}if("function"==typeof(f=k.to)[g])return c&&"object"==typeof c&&!Array.isArray(c)&&(f=c),p=k.to[g].call(f,a,p,b.substring(h+1)),w$proxy(p);if("function"==typeof(f=
this)[g])return c&&"object"==typeof c&&!Array.isArray(c)&&(f=c),p=this[g].call(f,p,b.substring(h+1)),w$proxy(p);console.log("Transformation `"+g+"` was not found at:",a)}return d(a,c,b)}catch(v){throw console.log("Exception evaluating `"+b+"`:",v,a),v;}}function f(a,c,b,d){for(var h=0,m,p,g=null;-1!=(m=b.indexOf("{{",h))&&-1!=(p=b.indexOf("}}",m));)h<m&&(g=(g||"")+b.substring(h,m)),h=e(a,c,b.substring(m+2,p)),d&&(h=null!=h?JSON.stringify(h):"null"),null!=h&&(g=null!=g?String(g)+h:h),h=p+2;0==h?g=
e(a,c,b):h<b.length&&(g=null!=g?String(g)+b.substring(h):b.substring(h));!1!==d&&null!=g&&"string"!=typeof g&&(g=String(g));return g}function g(a,c,b,d){if(!c||!c.length)return!1;var h=!1,e=a.getAttribute("w:reflect"),m;e=e&&b&&"object"==typeof b&&"function"==typeof(m=b[e])?m:null;try{m=[];for(var g=0,p=c.length;g<p;++g)m.push(c[g]);g=0;for(p=m.length;g<p;++g){var q=m[g].name,r=m[g].value;c=q;var l,v=!1;if(q.startsWith(l="w:")){k.weave$currentAttr=q;if(2!==d)if(q.startsWith(l="w:attr:")){v=!0;q=q.substring(l.length);
var n=f(a,b,r);e&&!1===e.call(b,a,c,n)||n!=a.getAttribute(q)&&(null!=n?a.setAttribute(q,n):a.removeAttribute(q))}else if(q.startsWith(l="w:data:"))v=!0,q="data-"+q.substring(l.length),n=f(a,b,r),e&&!1===e.call(b,a,c,n)||n!=a.getAttribute(q)&&(null!=n?a.setAttribute(q,n):a.removeAttribute(q));else if(q.startsWith(l="w:style:"))v=!0,q=q.substring(l.length),n=f(a,b,r,!1),e&&!1===e.call(b,a,c,n)||n!=a.style[q]&&(a.style[q]=n);else if(q.startsWith(l="w:class:")){if(v=!0,q=q.substring(l.length),n=w$is(f(a,
b,r,!1)),!e||!1!==e.call(b,a,c,n)){var I=a.classList;n?I.has(q)||I.add(q):I.has(q)&&I.remove(q)}}else if("w:text"==q)v=h=!0,n=f(a,b,r),e&&!1===e.call(b,a,c,n)||a.textContent==n||(a.textContent=n||"");else if("w:html"==q)v=h=!0,n=f(a,b,r),e&&!1===e.call(b,a,c,n)||(a.innerHTML=n||"");else if("w:show"==q)v=!0,n=f(a,b,r,!1),e&&!1===e.call(b,a,c,n)||w$show(a,"undefined"!=typeof n?n:null);else if("w:enable"==q)v=!0,n=w$toggle(f(a,b,r,!1)),e&&!1===e.call(b,a,c,n)||(n?a.hasAttribute("disabled")||a.setAttribute("disabled",
""):a.hasAttribute("disabled")&&a.removeAttribute("disabled"));else if("w:for"==q)v=!0,n=f(a,b,r,!1),(a.$w||(a.$w={})).$for=n;else if("w:checked"==q&&(v=!0,n=r,!e||!1!==e.call(b,a,c,n))&&(n=w$findName(a))){n=f(a,b,n,!1);var w="OPTION"==a.nodeName?"selected":"checked";(r||"")==(n||"")?a.setAttribute(w,""):a.removeAttribute(w);break}v||1===d||("w:set"==q?(q=q.substring(l.length),n=f(a,b,r,!1),e&&!1===e.call(b,a,c,n)||("INPUT"==a.nodeName?n!=a.getAttribute("value")&&(null!=n?a.setAttribute("value",n):
a.removeAttribute("value")):"SELECT"==a.nodeName||"DATALIST"==a.nodeName?a.value=n:a.innerText=n,k.weave$currentAttr=!1,w$check(a,n||null))):q.startsWith(l="w:set:")?(q=q.substring(l.length),n=f(a,b,r,!1),e&&!1===e.call(b,a,c,n)||(a[q]=n)):"w:warning"==q?(n=f(a,b,r),e&&!1===e.call(b,a,c,n)||(a.setCustomValidity&&a.setCustomValidity(n||""),n?a.setAttribute("w:validity",n):a.removeAttribute("w:validity"))):"w:show:for"==q?(n=f(a,b,r,!1),e&&!1===e.call(b,a,c,n)||w$show(a,w$for(a,n))):"w:enable:for"==
q&&(n=f(a,b,r,!1),e&&!1===e.call(b,a,c,n)||(a.disabled=!w$for(a,n))))}}}finally{k.weave$currentAttr=null}return h}var k={w$type:{"":{}},w$call:w$ajax,w$ajax$error:null,w$defined:{},"@time":0,"@end":0,menuStack:[],w$proxy$sets:new Set,w$proxy$paused:new Set,w$proxy$when:0,w$proxy$AnimationFrame:null,w$process:function(a,b,c){var h=k.w$weaver[a[0]];if(!h)throw["Not found",a,{el:b,div:c}];h(a[2],b,a[3],c)},weave$current:null,w$glass:null,w$error:null,W$REFRESH:!0,W$TOGGLE:"+-",W$SAY_BEGIN:"\u00a7",W$SAY_END:"\u00a7",
W$SAY_CODE:"|"},l=k.w$events={holdTime:2E3,clickedTime:2E3,clickCount:0,buttons:0,mouseDownTime:0,keyDownTime:0,mouseAnchor:{x:0,y:0},mouseEvent:{},keyEvent:{},timeoutID:0,timeoutClickedID:0,target:null,setTimeOut:function(a,b){clearTimeout(l.timeoutID);a&&(l.timeoutID=setTimeout(a,b||l.holdTime))},setTimeOutClicked:function(a,b){clearTimeout(l.timeoutClickedID);a&&(l.timeoutClickedID=setTimeout(a,b||l.clickedTime))}};document.addEventListener("keydown",function(a){l.setTimeOutClicked();l.keyDownTime=
a.timeStamp;l.keyEvent=a;l.setTimeOut(function(){w$on(a,"keyhold")});w$on(a,"keydown")},!1);document.addEventListener("keyup",function(a){l.setTimeOut();w$on(a,"keyup")},!1);document.addEventListener("keypress",function(a){w$on(a,"keypress")},!1);document.addEventListener("click",function(a){w$on(a,"click")},!1);document.addEventListener("dblclick",function(a){w$on(a,"dblclick")},!1);document.addEventListener("wheel",function(a){w$on(a,"wheel")},!1);document.addEventListener("touchstart",function(a){w$on(a,
"touchstart")},!1);document.addEventListener("touchmove",function(a){w$on(a,"touchmove")},!1);document.addEventListener("mouseout",function(a){l.setTimeOut();w$on(a,"mouseout")},!1);document.addEventListener("mouseover",function(a){l.setTimeOut();w$on(a,"mouseover")},!1);document.addEventListener("mousedown",function(a){if(500<=a.timeStamp-l.mouseDownTime||8<Math.abs(l.mouseAnchor.x-a.clientX)||8<Math.abs(l.mouseAnchor.y-a.clientY))l.clickCount=0;l.clickCount++;l.buttons=a.buttons;l.mouseDownTime=
a.timeStamp;l.mouseAnchor.x=a.clientX;l.mouseAnchor.y=a.clientY;l.mouseEvent=a;w$on(a,"mousedown");l.setTimeOut(function(){w$on(a,"mousehold")});l.setTimeOutClicked();return!0},!0);document.addEventListener("mousemove",function(a){l.mouseEvent=a;"undefined"!=typeof W$MOUSEMOVE&&W$MOUSEMOVE&&w$on(a,"mousemove");l.setTimeOut(function(){w$on(a,"mousehold")})},!1);document.addEventListener("mouseup",function(a){l.mouseEvent=a;if(w$on(a,"mouseup"))return!0;if(500>=a.timeStamp-l.mouseDownTime&&8>=Math.abs(l.mouseAnchor.x-
a.clientX)&&8>=Math.abs(l.mouseAnchor.y-a.clientY)){if(w$on(a,"mouseclick"))return!0;l.setTimeOut();l.setTimeOutClicked(function(){w$on(a,"mouseclicked")},333)}else l.setTimeOut();return!0},!0);document.addEventListener("input",function(a){w$on(a,"input")},!1);document.addEventListener("change",function(a){w$on(a,"change")},!1);document.addEventListener("dragstart",function(a){w$on(a,"dragstart")},!1);document.addEventListener("dragenter",function(a){w$on(a,"dragenter")},!1);document.addEventListener("dragover",
function(a){w$on(a,"dragover")},!1);document.addEventListener("dragleave",function(a){w$on(a,"dragleave")},!1);document.addEventListener("drop",function(a){w$on(a,"drop")},!1);document.addEventListener("paste",function(a){w$on(a,"paste")},!1);document.addEventListener("contextmenu",function(a){w$on(a,"contextmenu")},!1);k.W$HTMLTAGS="LI UL OL DL SPAN B STRONG I U STRIKE BR TT CODE PRE P A IMG".split(" ");k.W$HTMLATTRIBUTES="class style src width height href title".split(" ");k.W$HTMLURL=/(http[s]?[:]\/\/[^\s"'<>]+)/;
k.w$normalizeHTML=function u(a,b,c){try{for(var h=a.childNodes.length;0<=--h;){var d=a.childNodes[h];if(1==d.nodeType){for(var e=d.attributes.length;0<=--e;){var m=d.attributes[e].name;k.W$HTMLATTRIBUTES.includes(m.toLowerCase())||d.removeAttribute(m)}u(d,b,c);if("BR"==d.nodeName&&"DIV"==a.nodeName&&h==a.childNodes.length-1)w$removeElement(d);else if("BR"==d.nodeName&&b)a.insertBefore(document.createTextNode("\n"),d),w$removeElement(d);else if(!k.W$HTMLTAGS.includes(d.nodeName)||c){for("DIV"==d.nodeName&&
a.insertBefore(b?document.createTextNode("\n"):document.createElement("BR"),d);d.childNodes.length;){var g=d.childNodes[0];1!=g.nodeType&&3!=g.nodeType||a.insertBefore(g,d)}w$removeElement(d)}else"A"==d.nodeName&&(l=k.W$HTMLURL.exec(d.textContent))&&d.getAttribute("href")!=l[1]&&d.setAttribute("href",l[1])}else if(3==d.nodeType||4==d.nodeType)if(0==(d.textContent||"").trim().length)a.removeChild(d),--h;else if("A"!=a.nodeName&&!c&&document.activeElement!=a){var f=d.textContent||"",l;if(l=k.W$HTMLURL.exec(f)){var r=
f.indexOf(l[1]),n=document.createElement("a");n.setAttribute("href",l[1]);n.textContent=l[1];d.textContent=f.substring(0,r);a.insertBefore(n,d.nextSibling);if(f.length>r+l[1].length){var I=document.createTextNode(f.substring(r+l[1].length));a.insertBefore(I,n.nextSibling)}}}}a.normalize()}catch(w){console.log(w)}return a};k.Resync={precondition:[],queue:[],locked:!1};k.w$resync$done=function(){k.Resync.locked=!1};k.w$resync=function(a){var b=k.Resync;if(w$isArray(a)&&a.length){for(var c=0;c<a.length;++c){var d=
a[c],e;(e=d.t)&&k["@time"]<(e=Number(e))&&(k["@time"]=e);b.queue.push(d)}b.queueID||(b.queueID=window.requestAnimationFrame(k.w$resyncer))}};k.w$resyncer=function(a){var b=k.Resync;window.cancelAnimationFrame(b.queueID);if(!b.locked){do if(b.precondition.length){a=b.precondition.shift();try{b.locked=!0,a(k.w$resync$done)}catch(q){b.locked=!1,console.log("async precondition exception:",q)}break}else if(b.queue.length){var c=b.queue.shift(),d,e,g=c.id,f=c.cmd||"?";(e=c.t)&&k["@time"]<(e=Number(e))&&
(k["@time"]=e);g=g?document.getElementById(g):document.body;try{if(":"==f||"["==f||"]"==f||"<"==f||">"==f||"#"==f||"="==f||"."==f)w$weave(g,f,c.data);else{var l=w$data(g);l&&"function"==typeof l[f]?d=l[f](g,b,c.data):console.log("Resync target not found:",c)}}catch(q){console.log("async exception:",q)}"function"==typeof d&&(LOG&&console.log("PRE",c),b.queue.unshift(c),b.precondition.push(d))}else{b.queueID=null;return}while(performance.now()<a+77)}b.queueID=window.requestAnimationFrame(k.w$resyncer)};
k.w$weaver={eval:function(a,b,c,d){eval(a)},html:function(a,b,c,d){var h=Array.isArray(b)?b[0]:b;switch(a){case "begin":k["@end"]=0;break;case "end":k["@end"]=1;break;case "open":c&&c.url?window.location=c.url:location.reload();break;case "text":for(a=0;a<b.length;++a)h=b[a],h.textContent=c.$;break;case "html":for(a=0;a<b.length;++a)h=b[a],h.innerHTML=c.$;break;case "attr":for(a=0;a<b.length;++a){h=b[a];for(var e in c)h.setAttribute(e,c[e])}break;case "prop":for(a=0;a<b.length;++a)for(e in h=b[a],
c)h[e]=c[e];break;case "style":for(a=0;a<b.length;++a)for(e in h=b[a],c)d=c[e],null!=d?h.style[e]=d:h.style.removeProperty(e);break;case "validity":LOG&&console.log("validity",b);for(a=0;a<b.length;++a)h=b[a],h.setCustomValidity(c.message);break;case "remove":for(a=0;a<b.length;++a)h=b[a],w$removeElement(h);break;case "content":for(b=d?d.childNodes:[];0<h.childNodes.length;)w$removeElement(h.firstChild);for(;0<b.length;)h.appendChild(b[0]);break;case "addBegin":b=d?d.children:[];for(c=h.firstElementChild;0<
b.length;)h.insertBefore(e=b[0],c),c=e;break;case "addEnd":for(b=d?d.children:[];0<b.length;)h.appendChild(b[0]);break;case "addBefore":b=d?d.children:[];c=h;for(h=h.parentElement;0<b.length;)h.insertBefore(e=b[0],c),c=e;break;case "addAfter":b=d?d.children:[];c=h.nextSibling;for(h=h.parentElement;0<b.length;)h.insertBefore(e=b[0],c),c=e;break;case "replace":b=d?d.children:[];c=h;for(h=h.parentElement;0<b.length;)h.insertBefore(e=b[0],c),c=e;h.removeChild(c)}},open:function(a,b,c,d){location.reload()}};
k.w$receive=function(a,b){if(a)if("string"==typeof a)for(b=a.indexOf("\x3c!--[");-1!=b;){var c=b+4,d=a.indexOf("]--\x3e",c),h=a.substring(c,d+1);b=a.indexOf("\x3c!--[",d+4);if("[]"!=h)try{var e=JSON.parse(h),g=e[1]?w$queryAll(e[1]):document.body,f;h=null;var l;(f=e[4])&&k["@time"]<(f=Number(f))&&(k["@time"]=f);if("\x3c!--[]--\x3e"==a.substring(b,b+9)&&(l=a.substring(d+4,b).trim())){h=document.createElement("DIV");if(l.startsWith("<td")||l.startsWith("<tr")){var r=document.createElement("TABLE");h.appendChild(r);
h=r}l.startsWith("<td")&&(l="<tr>"+l+"</tr>");h.innerHTML=l;if(l.startsWith("<td")||l.startsWith("<tr"))h=h.tBodies[0];l.startsWith("<td")&&(h=h.rows[0])}k.w$process(e,g,h)}catch(x){console.log("EXCEPTION:",a.substring(c-4,-1!=b?b:a.length),x)}}else b.w$element&&w$weave(b.w$element,b.w$cmd,a,b.weave$data),b.callback&&b.callback(a,b)};k.to={"?":function(a,b,c){"true"==c?c=!0:"1"==c?c=1:""===c?c=!0:c.startsWith("'")&&"'"==c.charAt(c.length-1)&&(c=c.substring(1,c.length-2));return w$is(b,c)},"??":function(a,
b,c){c.startsWith("'")&&"'"==c.charAt(c.length-1)&&(c=c.substring(1,c.length-2));return w$is(b,c)},"?1":function(a,b,c){return w$is(b,1)},"!":function(a,b,c){"true"==c?c=!0:"1"==c?c=1:""===c?c=!0:c.startsWith("'")&&"'"==c.charAt(c.length-1)&&(c=c.substring(1,c.length-2));return w$toggle(b,c)},"!!":function(a,b,c){c.startsWith("'")&&"'"==c.charAt(c.length-1)&&(c=c.substring(1,c.length-2));return w$toggle(b,c)},"!1":function(a,b,c){return w$toggle(b,1)},"()":function(a,b,c){return c&&c.trim()?w$arg(a,
c):{}},"?=":function(a,c,b){return c?encodeURIComponent(c):""},"?()":function(a,c,b){return w$setParameters(b&&b.trim()?w$arg(a,b):{},"?")},"??()":function(a,b,c){b=window.location.href;var d,h="?";-1!=(d=b.indexOf("?"))&&(h=b.substring(d));return w$setParameters(c&&c.trim()?w$arg(a,c):{},h)}};k.weave$evalMacro=f;k.w$apply=function G(b,c,d,f,l,B){var h=c=w$proxy(c),m=k.weave$current;k.weave$currentAttr=null;try{if(2==b.nodeType){if(k.w$proxy$paused.has(b.parentElement)||b.parentElement.getAttribute("w:hold"))return b;
g(k.weave$current=b.parentElement,[b],c,0);return b}if(k.w$proxy$paused.has(b))return b;k.weave$current=b;if(null==d)if(b.$w&&b.$w.w$)d=b.$w.w$,f||(f=!0);else{if(f)throw["Not woven Element",b];d=b;b=d.cloneNode(!1);(b.$w||(b.$w={})).w$=d;d.parentElement.replaceChild(b,d)}else(b.$w||(b.$w={})).w$=d;if(l){var x=d.childNodes;f=d=null;var v;var n=-1;var u=l;do for(var w=d||0;w<(null!=f?f:x?x.length:0);++w){var y=x[w],C=!1,A=!1;h=c;if(1==y.nodeType)if("W:ELSE"==y.nodeName)break;else if(y.hasAttribute("w:item")&&
!y.getAttribute("w:item")){if(null==d){d=v=w;f=w+1;u=null;for(var J=w+1;J<x.length;++J){var E=x[J];1==E.nodeType&&E.hasAttribute("w:item")&&!E.getAttribute("w:item")&&(v=J,f==w+1&&(f=J))}}++n>=l.$$.length-1&&(A=!0,d=f=null,w=v);if(n<l.$$.length)h=l.$$[n],C=!0;else continue}var H,D=C&&l.w$map.get(h);(H=!!D)?y=D.$w.w$:D=y.cloneNode(!1);b.appendChild(D);C&&h&&"object"==typeof h&&(Object.defineProperty(h,"$w$$index",{value:n,enumerable:!1,writable:!0}),Object.defineProperty(h,"$w$$last",{value:A,enumerable:!1,
writable:!0}),l.w$map.set(h,D));E=G(D,h,y,H,u,B)}while(null!=d&&d<(null!=f?f:x.length))}else if(1==b.nodeType){l=function(a,b){var c;if(c=a.getAttribute("w:use")){b=k.w$defined[c];if(!b)throw"w:define `"+c+"` was not found";for(c=0;c<b.attributes.length;++c){var d=b.attributes[c];"w:define"!=d.name&&(a.hasAttribute(d.name)||a.setAttribute(d.name,d.value))}b=b.childNodes}else(c=a.getAttribute("w:children"))&&e(a,h,c)&&(a.$w.w$=new WElement(a,k.w$defined,w$say),b=a.$w.w$.childNodes);return b};var L=
b.getAttribute("w:each");u=b.getAttribute("w:item");var K=b.getAttribute("w:if");v=!0;E=!1;x=d.childNodes;if(null!=L){var z=h;null!=K&&(v=a(e(b,c,K)));if(v){if(z=-1===f?b.$w.$$:e(b,z,L),w$isArray(z)&&null!=(n=b.getAttribute("w:when"))){L=[];for(w=0;w<z.length;++w)a(e(b,z[w],n))&&L.push(z[w]);z=w$proxy(L)}}else z=null;w$isArray(z)||(z=w$proxy([]));""!==u&&(n=b.getAttribute("w:type"))&&(z=k.w$setPrototypeOf(z,C=k.w$type[n]),b.classList.contains(n)||b.classList.add(n),"function"==typeof(C=C.$use)&&C.call(z,
b));b.$w.$$=z;f&&b.$w.w$map||(b.$w.w$map=new Map);for(;b.firstChild;)w$removeElement(b.firstChild);if(!(E=v=!!z.length))for(E=v=!0,w=0;w<x.length;++w)if("W:ELSE"==x[w].nodeName){E=v=!1;break}if(v)if(""===u)for(w=0;w<z.length;++w)D=f&&b.$w.w$map&&b.$w.w$map.get(z[w]),(H=!!D)||(D=b.cloneNode(!1),D.removeAttribute("w:each"),b.$w.w$map.set(z[w],D)),b.appendChild(D),G(D,z[w],d,H,void 0,B);else x=l(b,x),g(b,b.attributes,c,1),G(b,c,d,f,b.$w,B)}else{if(null!=u){h=-1===f?b.$w.$:e(b,h,u);C=null;if(n=b.getAttribute("w:type"))(C=
k.w$type[n])||console.log("type handler `"+n+"` is not found"),h=k.w$setPrototypeOf(h,C),b.classList.contains(n)||b.classList.add(n),h&&"object"==typeof h&&"object"==typeof B&&"string"==typeof B.$name&&Object.defineProperty(h,"$parent",{value:B,enumerable:!1,writable:!0}),C&&"function"==typeof(z=C.$use)&&z.call(h,b);B=b.$w.$=h;C&&"function"==typeof(z=C.$action)&&w$action(b,{target:null},"",{});h&&"object"==typeof h&&!h.$w$original&&Object.defineProperty(h,"$w$original",{value:w$assign({},h),enumerable:!1,
writable:!0})}null!=(n=w$attribute(b,"w:named"))?E|=k.w$named(b,h,n):null!=(n=w$attribute(b,"w:name"))&&(E|=k.w$name(b,h,n,!0));x=l(b,x);E|=g(b,b.attributes,h,1);null!=K&&(v=a(e(b,c,K)),f=!1,b.$w.$if=v)}if(!E&&x){if(!v){for(w=0;w<x.length;++w)if(y=x[w],"W:ELSE"==y.nodeName){v=y;x=y.childNodes;break}for(v||(x=null);b.lastChild;)w$removeElement(b.lastChild)}if(x){A=b.childNodes;if(f&&(f=x.length==A.length))for(w=0;w<A.length;++w)if(!(J=A[w]).$w||J.$w.w$!=x[w]){f=!1;break}if(f)for(x=A,w=0;w<x.length;++w)y=
x[w],G(y,h,y.$w.w$,!0,void 0,B);else{for(;b.lastChild;)w$removeElement(b.lastChild);for(w=0;w<x.length;++w){y=x[w];if("W:ELSE"==y.nodeName)break;D=b.appendChild(y.cloneNode(!1));G(D,h,y,void 0,void 0,B)}}}}b.attributes&&g(b,b.attributes,h,2)}1==b.nodeType&&b.classList.remove("w")}finally{k.weave$current=m,k.weave$currentAttr=null}return b};k.w$setPrototypeOf=function(a,b){if(!b||!a||"object"!=typeof a||Array.isArray(a)||Object.getPrototypeOf(a)===b||b.isPrototypeOf(a))return a;if("undefined"==typeof Proxy){if(Object.getPrototypeOf(a)==
Object.prototype)return Object.setPrototypeOf(a,b)}else Object.setPrototypeOf(a=w$proxy(a),b);return a};k.css=function(a){k.w$STYLE||(k.w$STYLE=w$element("style",{name:"w:css"}),k.w$STYLE.appendChild(document.createTextNode("")),document.head.appendChild(k.w$STYLE));if("string"==typeof a){var b=k.w$STYLE.sheet;b.insertRule(a,b.length?b.length:0)}return k.w$STYLE};k.jsonTransfer=function(a,b){if("undefined"==typeof b)return a=a.dataTransfer&&a.dataTransfer.getData("application/json")||"undefined"!=
typeof W$DATATransfer,"string"==typeof(a=W$DATATransfer)&&a?JSON.parse(a):a;a.dataTransfer.setData("application/json",W$DATATransfer=b);return a.dataTransfer};k.w$for=function(a){if("string"==typeof a&&a)switch(a.charAt().toLowerCase()){case "0":case "-":return 0;case "r":case "g":return 2;case "a":return 6;case "u":return 7;case "w":case "s":case "+":return 8;case "d":case "*":return 9}return 5};k.w$nameArgIndex=function(a){if(!a)return-1;var b=a.indexOf("{");a=a.indexOf("(");return-1!=b&&-1!=a?
Math.min(b,a):-1!=b?b:-1!=a?a:-1};k.w$name=function(a,b,c,d){var e=a.nodeName,f,h=!1,g=function(a,b){return b in a||-1!=b.indexOf(".")&&(b=b.replaceAll(".","$"))in this?b:null},l=function(a,b){var c;return(c=a[b])||-1!=b.indexOf(".")&&(c=a[b.replaceAll(".","$")])?c:void 0},m=c;var v=k.w$nameArgIndex(c);-1!=v&&(m=m.substring(v));var n=-1!=m.indexOf(".")?m.replaceAll(".","$"):null;b||(b={});m&&!a.hasAttribute("name")&&a.setAttribute("name",m);m.startsWith("!")&&(m=m.substring(1));if("undefined"!=typeof(v=
b[m+"$type"])||n&&"undefined"!=typeof(v=b[n+"$type"])){var u=v=v.toLowerCase();"boolean"==u?u="checkbox":"string"==u?u="text":"html"==u?u="text":"integer"==u&&(u="number")}!((f=m+"$title")in b||n&&(f=n+"$title")in b||(f=m+"$hint")in b||n&&(f=n+"$hint")in b)||a.hasAttribute("title")||a.hasAttribute("w:attr:title")||a.setAttribute("w:attr:title",f);if("FORM"==e)a.hasAttribute("accept-charset")||a.hasAttribute("w:attr:accept-charset")||a.setAttribute("accept-charset","utf-8"),a.hasAttribute("onsubmit")||
(a.setAttribute("onsubmit","return w$submit(event)"),a.hasAttribute("w:on:onsubmit")||a.setAttribute("w:on:onsubmit",c));else if("BUTTON"==e)(f=l(b,m+"$definition"))&&w$defineElement(a,f),a.hasAttribute("onclick")||a.hasAttribute("w:on:onclick")||a.setAttribute("w:on:onsubmit",c),!(f=g(b,m+"$apt"))||a.hasAttribute("disabled")||a.hasAttribute("w:attr:disabled")||a.hasAttribute("w:enable:for")?!(f=g(b,m+"$for"))||a.hasAttribute("disabled")||a.hasAttribute("w:attr:disabled")||a.hasAttribute("w:enable:for")||
a.setAttribute("w:enable:for",f):a.setAttribute("w:enable",f);else if("SELECT"==e||"DATALIST"==e){if(f=l(b,m+"$definition"))h=!0,w$defineSelect(a,f);!(f=g(b,m+"$required"))||a.hasAttribute("required")||a.hasAttribute("w:attr:required")||a.setAttribute("w:attr:required","[??]"+f);a.hasAttribute("w:attr:value")||a.hasAttribute("w:set:value")||a.hasAttribute("w:set")||a.setAttribute("w:set",m);!(f=g(b,m+"$for"))||a.hasAttribute("disabled")||a.hasAttribute("w:enable:for")||a.setAttribute("w:enable:for",
f);d&&(f=g(b,m+"$check")||!!(f=g(b,m+"$valid")))&&!a.hasAttribute("oninput")&&!a.hasAttribute("w:on:oninput")&&a.setAttribute("oninput","w$no(event); w$check(this); return false;");a.hasAttribute("w:warning")||a.setAttribute("w:warning",m+"$warning")}else if("INPUT"==e){c=l(b,m+"$length");if("string"==typeof c&&c&&-1!=(u=c.indexOf(","))){var w=c.substring(u+1);c=c.substring(0,u)}"undefined"==typeof u||a.hasAttribute("type")||a.setAttribute("type",u);"string"==v&&(a.hasAttribute(f="autocorrect")||
a.hasAttribute("w:attr:autocorrect")||a.setAttribute(f,"off"),a.hasAttribute(f="autocapitalize")||a.hasAttribute("w:attr:autocapitalize")||a.setAttribute(f,"off"),a.hasAttribute(f="spellcheck")||a.hasAttribute("w:attr:spellcheck")||a.setAttribute(f,"false"));(f=l(b,m+"$definition"))&&w$defineElement(y,f);!(f=g(b,m+"$required"))||a.hasAttribute("required")||a.hasAttribute("w:attr:required")||a.setAttribute("w:attr:required","[??]"+f);!(f=g(b,m+"$placeholder"))||a.hasAttribute("placeholder")||a.hasAttribute("w:attr:placeholder")||
a.setAttribute("w:attr:placeholder",f);if("button"==a.type||"submit"==a.type){var y;for(y=a;y&&"FORM"!=y.nodeName;y=y.parentElement);LOG&&console.log("FORM",y,a);!(f=g(b,m+"$apt"))||a.hasAttribute("disabled")||a.hasAttribute("w:attr:disabled")||a.hasAttribute("w:enable:for")||a.setAttribute("w:enable",f);!g(b,m+"$for")||a.hasAttribute("disabled")||a.hasAttribute("w:attr:disabled")||a.hasAttribute("w:enable:for")||a.setAttribute("w:enable:for",f)}else"checkbox"==a.type||"radio"==a.type?(!(f=a.hasAttribute("w:set"))||
a.hasAttribute("w:attr:value")||a.hasAttribute("w:set:value")?(u=w$attribute(a,"value"),u=null!=u?'="'+u+'"':""):u="="+f,!m||a.hasAttribute("checked")||a.hasAttribute("w:attr:checked")||a.hasAttribute("w:set:checked")||a.setAttribute("w:attr:checked",m+u+"?'checked':null")):(a.hasAttribute("w:attr:value")||a.hasAttribute("w:set:value")||a.hasAttribute("w:set")||a.setAttribute("w:set",m),"number"==a.type||"date"==a.type?(!(f=g(b,m+"$min"))||a.hasAttribute("min")||a.hasAttribute("w:attr:min")||a.setAttribute("w:attr:min",
f),a.hasAttribute("max")||a.hasAttribute("w:attr:max")||((f=g(b,m+"$max"))?a.setAttribute("w:attr:max",f):c&&a.setAttribute("max",Math.pow(10,c-w)-1)),"number"!=a.type||a.hasAttribute("step")||a.hasAttribute("w:attr:step")||(w?a.setAttribute("step",Math.pow(10,-w)):(f=g(b,m+"$step"))?a.setAttribute("w:attr:step",f):"integer"!=v&&a.setAttribute("step","any"))):(a.hasAttribute("size")||a.hasAttribute("w:attr:size")||((f=g(b,m+"$size"))?a.setAttribute("w:attr:size",f):c&&a.setAttribute("size",c)),!c||
a.hasAttribute("maxlength")||a.hasAttribute("w:attr:maxlength")||a.setAttribute("maxlength",c),!(f=g(b,m+"$pattern"))||a.hasAttribute("pattern")||a.hasAttribute("w:attr:pattern")||a.setAttribute("w:attr:pattern",f)));d&&(m+"$check"in b||m+"$valid"in b)&&!a.hasAttribute("oninput")&&!a.hasAttribute("w:on:oninput")&&a.setAttribute("oninput","return w$name$oninput(this,event);");a.hasAttribute("w:warning")||a.setAttribute("w:warning",m+"$warning")}else if("radio"==a.getAttribute("type")){if(f=l(b,m+"$definition"))h=
!0,w$defineRadio(a,m,f,b[m])}else"html"==v?(a.classList.contains("whtml")||a.classList.add("whtml"),a.hasAttribute("w:html")||a.hasAttribute("w:text")||a.setAttribute("w:html",m)):"text"==v&&(a.classList.contains("wtext")||a.classList.add("wtext"),a.hasAttribute("w:html")||a.hasAttribute("w:text")||a.setAttribute("w:text",m));return h};k.w$named=function(a,b,c){var d=a.nodeName;b=k.w$name(a,b,c);if("INPUT"==d&&"button"!=a.type&&"submit"!=a.type&&"reset"!=a.type||"DIV"==d||"SELECT"==d||"DATALIST"==
d)a.hasAttribute("w:on:oninput:action")||a.setAttribute("w:on:oninput:action","()"),a.hasAttribute("oninput")||a.hasAttribute("w:on:oninput")||a.setAttribute("w:on:oninput","");return b};k.w$ajax$error=function(a){if(k.w$glass){var b=a.responseText;b=b.substring(b.indexOf(">",b.indexOf("<body"))+1);b=b.substring(0,b.indexOf("</body"));w$error("").innerHTML=b}console.log(a)};return k}();function w$name$oninput(a,c){w$no(c);w$check(a);return!1}
function w$for(a,c){if(a instanceof HTMLElement){var b=a,d;for(a=void 0;b&&(!(d=b.$w)||!(a=d.$for));b=b.parentElement);}a=WEAVEWORLD.w$for(a);c=WEAVEWORLD.w$for(c);return a>=c}function w$submit(a){var c=a.target,b=w$form(c),d;a.submitter&&(d=a.submitter.getAttribute("name"))&&(b[d]="");if(null===w$on(a,"submit",c,b))throw new ReferenceError("Event handler for w:on:onsubmit was not found");return w$no(a)}
function w$parent$(a){for(;a&&!(a.$w&&"$"in a.$w);a=a.$w&&a.$w.parent||a.parentElement);return a}function w$parent$$(a){for(;a&&(!a.$w||!a.$w.$$);a=a.$w&&a.$w.parent||a.parentElement);return a}function w$parent$$index(a){a=w$parent$(a);var c=a.$w.$,b;if(!(b=w$parent$$(a)))return null;var d=b.$w.$$;return{$$:d,$:c,el:a,$$el:b,e:b,index:d.indexOf(c)}}
function w$findName(a){for(;a;a=a.$w&&a.$w.parent||a.parentElement){var c;if(null!=(c=w$attribute(a,"w:named"))||null!=(c=w$attribute(a,"w:name"))||null!=(c=w$attribute(a,"name")))return c}return null}function w$data(a,c,b){if(c)return(a=w$parent(a,c,b))&&a.$w?a.$w.$:void 0;var d;return(d=w$parent$(a))&&(d=d.$w)&&"$"in d?d.$:void 0}function w$list(a,c,b){if(c)return(a=w$parent(a,c,b))&&a.$w?a.$w.$$:void 0;var d;return(d=w$parent$$(a))&&(d=d.$w)&&"$$"in d?d.$$:void 0}
function w$findRule(a,c){for(;a;a=a.parentElement){var b=a.classList;if(b)for(var d=0;d<b.length;++d){var e;if((e=WEAVEWORLD.w$type[b[d]])&&c in e)return e[c]}}}function w$use(a,c,b,d){var e=WEAVEWORLD.w$defined[a];if(!e)throw new ReferenceError("w:define `"+a+"` was not found");a=e.cloneNode(!1);a.removeAttribute("w:define");b?b.insertBefore(a,d):d&&((a.$w||(a.$w={})).parent=d);WEAVEWORLD.w$apply(a,c,e);return a}
function w$merge(a,c){a instanceof HTMLElement&&(a=w$data(a));if(c&&"object"==typeof c){var b,d;for(d in c)(b=c[d])&&"object"==typeof b&&!w$isArray(b)?("object"!=typeof a[d]&&(a[d]={}),w$merge(a[d],b)):a[d]=b}return a}
function w$weave(a,c,b,d){var e;"undefined"==typeof c&&(c="");"undefined"!=typeof d&&(c.endsWith(":")&&("object"!=typeof b||0===Object.keys(b).length&&b.constructor===Object)||(b=d));a||(a=document.body);d=WEAVEWORLD.W$REFRESH;var f="object"==typeof b&&b&&!w$isArray(b);c.startsWith("~")?(c=c.substring(1),d=!1):(w$warning(a),c.startsWith("!")&&(c=c.substring(1),d=!0));switch(c){case "[":case "]":b&&(a=w$parent$$(a))&&("["==c?a.$w.$$.unshift(b):a.$w.$$.push(b),f&&w$warning(a,b),d&&w$refresh("now",a));
break;case "<":case ">":!(e=w$parent$$index(a))||">"!=c&&-1==e.index||(e.$$.splice("<"==c?e.index:e.index+1,0,b),f&&w$warning(e.e,b),d&&w$refresh("now",e.e));break;case "-":(e=w$parent$$index(a))&&-1!=e.index&&(e.$$.splice(e.index,1),f&&w$warning(e.e,b),d&&w$refresh("now",e.e));break;case "#":if(a=w$parent$$(a))w$isArray(b)||(b=w$proxy([])),Array.prototype.splice.apply(a.$w.$$,[0,a.$w.$$.length].concat(b)),f&&w$warning(a,b),d&&w$refresh("now",a);break;case ".":(e=w$parent$$index(a))&&-1!=e.index&&
(e.$$[e.index]=b,e.el.$w.$=b,f&&w$warning(e.el,b),d&&w$refresh("now",e.el));break;case "=":if(a=w$parent$(a))a.$w.$=b,f&&w$warning(a,b),w$refresh("now",a);break;case "?":(a=w$parent$(a))&&f&&w$warning(a,b);break;default:if(a=w$parent$(a))"object"==typeof b&&w$merge(a.$w.$,b),f&&w$warning(a,b),d&&w$refresh("now",a)}return a}
function w$refresh(a,c,b){cancelAnimationFrame(WEAVEWORLD.w$proxy$AnimationFrame);WEAVEWORLD.w$proxy$AnimationFrame=null;var d;if(d="now"==a)a=c,c=b;if("number"==typeof a){if(performance.now()<WEAVEWORLD.w$proxy$when){WEAVEWORLD.w$proxy$AnimationFrame=requestAnimationFrame(w$refresh);return}}else if(a){if(a instanceof HTMLElement){WEAVEWORLD.w$proxy$sets.add(a);var e;if(c&&a.$w&&(e=a.$w.$))for(var f in c)e[f]=c[f]}else a instanceof Set&&a.forEach(function(a,b,c){w$hasParent(a)&&WEAVEWORLD.w$proxy$sets.add(a)});
if(!d){WEAVEWORLD.w$proxy$when=performance.now()+10;WEAVEWORLD.w$proxy$AnimationFrame=requestAnimationFrame(w$refresh);return}}a=WEAVEWORLD.w$proxy$sets;if(a.size){var g=new Map;a.forEach(function(b,c,d){if(w$hasParent(b)){for(c=b.parentElement;c;c=c.parentElement)if(a.has(c))return;if(b instanceof WAttributeReference){(c=g.get(b.parentElement))||g.set(b.parentElement,c=[]);if(c.includes(b.name))return;c.push(b.name)}if(c=w$parent$(b))LOG&&console.log("--------\x3e",b,c.$w.$),WEAVEWORLD.w$apply(b,
c.$w.$,null,-1)}});WEAVEWORLD.w$proxy$paused.clear();WEAVEWORLD.w$proxy$sets.clear()}}
function w$proxyHandler(a){this.$w$={};this.setPrototypeOf=function(a,b){if(!b||!a||"object"!=typeof a||Array.isArray(a)||Object.getPrototypeOf(a)===b||b.isPrototypeOf(a))return a;a=this.$w$prototype||(this.$w$prototype=[]);a.includes(b)||a.push(b);return!0};this.getPrototypeOf=function(a){return a&&"object"==typeof a&&this.$w$prototype?this.$w$prototype[0]:null};this.getPropertyDescriptor=function(a,b){for(var c=a;c;c=Object.getPrototypeOf(c))if(a=Object.getOwnPropertyDescriptor(c,b))return a;if(this.$w$prototype)for(var e=
0;e<this.$w$prototype.length;++e)for(c=this.$w$prototype[e];c;c=Object.getPrototypeOf(c))if(a=Object.getOwnPropertyDescriptor(c,b))return a};this.has=function(a,b){if(b in a)return!0;if(this.$w$prototype)for(a=0;a<this.$w$prototype.length;++a)try{if(b in this.$w$prototype[a])return!0}catch(d){console.log(d)}return!1};this.get=function(a,b){if("symbol"==typeof b)return a[b];if("$w$proxy"==b)return this.$w$proxy;if("$w$object"==b)return a;if("$w$"==b)return this.$w$;if("$w$isArray"==b)return Array.isArray(a);
b.startsWith("$w$direct$")?b=b.substring(10):b.startsWith("$w$original$")||WEAVEWORLD.weave$current&&!1!==WEAVEWORLD.weave$currentAttr&&(this.$w$[" "+b]||(this.$w$[" "+b]=new Set)).add(WEAVEWORLD.weave$currentAttr?new WAttributeReference(WEAVEWORLD.weave$current,WEAVEWORLD.weave$currentAttr):WEAVEWORLD.weave$current);var c=this.getPropertyDescriptor(a,b);var e=c?c.get?c.get.call(this.$w$proxy):c.value:a[b];return null!==e&&"object"==typeof e&&!e.$w$proxy&&c.writable&&a.hasOwnProperty(b)?a[b]=w$proxy(e):
e};this.set=function(a,b,d){var c;if(b.startsWith("$w$direct$"))b=b.substring(10);else if(!b.startsWith("$w$original$")){var f=a[b],g=w$isArray(a)?a.length:null;d!==f&&this.$w$&&(c=this.$w$[" "+b])&&c.size&&(LOG&&console.log("SET:"+b+"=",d,f,c),delete this.$w$[" "+b],w$refresh(c))}for(var k,l=a;l&&!(k=Object.getOwnPropertyDescriptor(l,b));l=Object.getPrototypeOf(l));k&&k.set?d=k.set.call(this.$w$proxy,w$proxy(d)):a[b]=w$proxy(d);b="length";null!=g&&a.len!=g&&(c=this.$w$[" "+b])&&c.size&&(LOG&&console.log("SET:"+
b+"=",d,f,c),delete this.$w$[" "+b],w$refresh(c));return!0};this.deleteProperty=function(a,b){return b in a?(delete a[b],b="length",w$isArray(a)&&(e$=this.$w$[" "+b])&&e$.size&&(LOG&&console.log("SET:"+b+"=",e$),delete this.$w$[" "+b],w$refresh(e$)),!0):!1}}function w$proxy(a){if(null===a||"object"!=typeof a||a.$w$proxy||"undefined"==typeof Proxy)return a;var c=new w$proxyHandler(a);a=new Proxy(a,c);return c.$w$proxy=a}
function w$say(a,c){var b,d,e,f;if(f="undefined"==typeof c)c=a;if(-1!=(d=a.indexOf(b=WEAVEWORLD.W$SAY_CODE))){if(0==d)return a.substring(b.length);c=a.substring(d+b.length);a=a.substring(0,d)}"undefined"!=typeof W$DICTIONARY&&null!=(e=W$DICTIONARY[a])?c=e:f&&console.log("SAY:"+a+":");return c}
function w$says(a){var c,b,d,e;if(!a||-1==(c=a.indexOf(b=WEAVEWORLD.W$SAY_BEGIN)))return a;for(var f="";-1!=c&&-1!=(j=a.indexOf(d=WEAVEWORLD.W$SAY_END,c+b.length));){var g=a.substring(c+b.length,j),k,l,p=g;0<(k=g.indexOf(e=WEAVEWORLD.W$SAY_CODE))&&(p=g.substring(k+e.length),g=g.substring(0,k));0==k?p=g.substring(k+e.length):"undefined"!=typeof W$DICTIONARY&&null!=(l=W$DICTIONARY[g])?p=l:console.log("SAY:"+g+":");f+=a.substring(0,c)+p;c=(a=a.substring(j+d.length)).indexOf(b)}return f+a}
function w$define(a,c){var b;if(w$isArray(a))for(b=0;b<a.length;++b)w$define(a[b]);else{if("string"==typeof a&&"undefined"==typeof c)return WEAVEWORLD.w$type[a];"string"==typeof a&&(b=a,a=c);if("object"!=typeof a)throw Error("Invalid w$define arguments.",arguments);if("undefined"==typeof b&&(b=a.$name,"string"!=typeof b))throw Error("Invalid w$define arguments: no name.",arguments);var d=WEAVEWORLD.w$type[b];if("string"==typeof a.$type&&a.$type){if(d)throw Error("Invalid w$define redefinition: base $type defined, too.",
arguments);if(!(d=WEAVEWORLD.w$type[a.$type]))throw Error("w$define base $type was not found.",arguments);}else d||(d=WEAVEWORLD.w$type[""]);d&&Object.setPrototypeOf(a,d);WEAVEWORLD.w$type[b]=a}}
function w$include(a,c,b){w$ajax({method:"GET",url:a,success:function(a,e){a="<div"+a.substring(a.indexOf("<body")+5);a=a.substring(0,a.lastIndexOf("</body"))+"</div>";e=w$element("div",{"w:html":a}).firstElementChild;if(c){for(;document.body.attributes.length;)document.body.removeAttribute(document.body.attributes[0].name);for(a=0;a<e.attributes.length;++a)document.body.setAttribute(e.attributes[a].name,e.attributes[a].value);for(;document.body.lastChild;)w$removeElement(document.body.lastChild);
e=e.children;for(a=0;a<e.length;++a)document.body.appendChild(e[a])}var d="",g="";a={w$:new WElement(document.body,WEAVEWORLD.w$defined,w$say,function(a){a.startsWith(s="!w:css!")?d+="\n"+a.substring(s.length):a.startsWith(s="!w:script!")&&(g+="\n"+a.substring(s.length))})};c&&(document.body.$w=a);d&&document.head.appendChild(w$element("style",{name:"!w:css","w:text":d+"\n"}));g&&document.head.appendChild(w$element("script",{name:"!w:script","w:text":g+"\n"}));b&&b()}})}
document.addEventListener("DOMContentLoaded",function(){function a(a){W$DATA=w$proxy(a);document.body.$w.w$=new WElement(document.body,WEAVEWORLD.w$defined,w$say,function(a){var d;a.startsWith(d="!w:css!")?c+="\n"+a.substring(d.length):a.startsWith(d="!w:script!")&&(b+="\n"+a.substring(d.length))});c&&document.head.appendChild(w$element("style",{name:"!w:css","w:text":c+"\n"}));b&&document.head.appendChild(w$element("script",{name:"!w:script","w:text":b+"\n"}));WEAVEWORLD.w$apply(document.body,W$DATA,
null,!0);if("object"==typeof W$ONLOAD&&Array.isArray(W$ONLOAD))for(a=0;a<W$ONLOAD.length;++a)W$ONLOAD[a].call(WEAVEWORLD);"function"==typeof W$SYNC&&W$SYNC()}WEAVEWORLD.w$defined={};var c="",b="";document.body.$w||(document.body.$w={});document.body.$w.$=WEAVEWORLD.W$DATA;"string"==typeof W$START?W$CALL(W$START,W$DATA,function(b){a(b)}):"undefined"!=typeof W$DATA?("function"==typeof W$START&&(W$DATA=W$START(W$DATA)),a(W$DATA)):"function"==typeof W$START?a(W$START(w$getParameters())):document.body.classList.remove("w")});
Object.defineProperty(window,"W$TYPE",{configurable:!0,get:function(){return WEAVEWORLD.w$type},set:function(a){w$define(a)}});Object.defineProperty(window,"W$DATA",{configurable:!0,get:function(){return WEAVEWORLD.W$DATA},set:function(a){var c=window.document.body;WEAVEWORLD.W$DATA=a;c&&(c.$w||(c.$w={}),c.$w.w$?(c.$w.$=w$proxy(a),WEAVEWORLD.w$apply(c,a,null,!0)):c.$w.$=a)}});W$SYNC=W$START=void 0;W$ONLOAD=[];
